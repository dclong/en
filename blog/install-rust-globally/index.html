<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Install Rust Globally in Linux</title>
  <meta name="author" content="Ben Chuanlong Du">

  <link href="https://www.legendu.net/en/atom.xml" type="application/atom+xml" rel="alternate"
        title="Ben Chuanlong Du's Blog Atom Feed" />


  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://www.legendu.net/en/favicon.png" rel="icon">
  <link href="https://www.legendu.net/en/theme/css/main_2.css" media="screen, projection"
        rel="stylesheet" type="text/css">
  <script src="https://www.legendu.net/en/theme/js/modernizr-2.0.js"></script>
  <script src="https://www.legendu.net/en/theme/js/ender.js"></script>
  <script src="https://www.legendu.net/en/theme/js/octopress.js" type="text/javascript"></script>

  <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <script data-ad-client="ca-pub-3836424032203369" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="https://www.legendu.net/en/">Ben Chuanlong Du's Blog</a></h1>
    <h2>And let it direct your passion with reason.</h2>
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="https://www.legendu.net/en/atom.xml" rel="subscribe-rss">RSS</a></li>
</ul>

<form name="search" action="https://www.bing.com/search" method="get" onSubmit="return build_query()">
  <fieldset role="search">
      <!--
    <input type="hidden" name="q" value="site:https://www.legendu.net/en" />
        -->
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>

<script type = "text/javascript">
    function build_query() {
        var query = document.forms["search"]["q"].value;
        var prefix = "site:https://www.legendu.net/en "
        if (!query.startsWith(prefix)) {
            query = prefix + query;
            document.forms["search"]["q"].value = query;
        }
        return true;
    }
</script>

<ul class="main-navigation">
    <li><a href="https://www.legendu.net">Home</a></li>
    <li><a href="https://www.legendu.net/en">Blog</a></li>
    <li><a href="https://www.legendu.net/en/archives.html">Archives</a></li>
    <li><a href="https://www.legendu.net/pages/about">About</a></li>
</ul></nav>
  <div id="main">
    <div id="content">
<div>
  <article class="hentry" role="article">
<header>
      <h1 class="entry-title">Install Rust Globally in Linux</h1>
      <p class="meta"><time datetime="2022-06-02T15:21:12-07:00" pubdate>Jun 02, 2022</time></p>
</header>

  <div class="entry-content"><p>There are 3 ways to install a global standalone version of Rust in Linux.
The recommended way is to use <code>rustup</code> with customized environment variables.</p>
<h2 id="using-a-package-management-tool">Using a Package Management Tool</h2>
<p>Some Linux distributions provide packages for Rust.
Taking Debian/Ubuntu based Linux distributions as an example,
you can install a global version of Rust using the command below.</p>
<div class="highlight"><pre><span></span><code>wajig<span class="w"> </span>install<span class="w"> </span>rust<span class="w"> </span>rust-src<span class="w"> </span>cargo<span class="w"> </span>rustfmt
</code></pre></div>

<p>Notice that the Rust version installed by this way is relatively old. 
Taking Ubuntu 22.04 as example,
the above comamnd installs Rust 1.58.1 
while the latest stable Rust version is 1.61.0 as of May 2022.</p>
<h2 id="using-environment-variable-rustup">Using Environment Variable + rustup</h2>
<p>By default,
rustup installs Rust locally.
However,
you can configure environment variables to install Rust globally.</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">RUSTUP_HOME</span><span class="o">=</span>/usr/local/rustup
<span class="nb">export</span><span class="w"> </span><span class="nv">CARGO_HOME</span><span class="o">=</span>/usr/local/cargo
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span>/usr/local/cargo/bin:<span class="nv">$PATH</span>
curl<span class="w"> </span>--proto<span class="w"> </span><span class="s1">&#39;=https&#39;</span><span class="w"> </span>--tlsv1.2<span class="w"> </span>-sSf<span class="w"> </span>https://sh.rustup.rs<span class="w"> </span><span class="p">|</span><span class="w"> </span>sh
</code></pre></div>

<h2 id="manually-install-rust-globally">Manually Install Rust Globally</h2>
<ol>
<li>
<p>Download Rust.</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-sSL<span class="w"> </span>https://static.rust-lang.org/dist/rust-1.61.0-x86_64-unknown-linux-gnu.tar.gz<span class="w"> </span>-o<span class="w"> </span>/tmp/rust.tar.gz
</code></pre></div>

</li>
<li>
<p>Untar the downloaded file.</p>
<div class="highlight"><pre><span></span><code>tar<span class="w"> </span>-zxvf<span class="w"> </span>/tmp/rust.tar.gz
</code></pre></div>

</li>
<li>
<p>Go to the untarred directory 
    <code>rust-1.61.0-x86_64-unknown-linux-gnu</code>
    and install Rust and necessary components.</p>
<div class="highlight"><pre><span></span><code>./install.sh<span class="w"> </span>--without<span class="o">=</span>rust-demangler-preview,rls-preview,rust-analysis-x86_64-unknown-linux-gnu
</code></pre></div>

</li>
<li>
<p>Go to the directory
    <code>/usr/local/lib/rustlib</code>
    and remove non-needed files.
    You only to keep the 3 directories <code>etc</code>, <code>src</code> and <code>x86_64-unknown-linux-gnu</code>.</p>
<div class="highlight"><pre><span></span><code>rm<span class="w"> </span>-rf<span class="w"> </span>!<span class="o">(</span>etc<span class="p">|</span>src<span class="p">|</span>x86_64-unknown-linux-gnu<span class="o">)</span>
</code></pre></div>

</li>
<li>
<p>Download Rust source code.</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-sSL<span class="w"> </span>https://static.rust-lang.org/dist/rustc-1.61.0-src.tar.gz<span class="w"> </span>-o<span class="w"> </span>/tmp/rust.tar.gz
</code></pre></div>

</li>
<li>
<p>Untar the downloaded source file into the directory
    <code>/usr/local/lib/rustlib/src/rust/</code>
    .</p>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>-p<span class="w"> </span>/usr/local/lib/rustlib/src/rust
tar<span class="w"> </span>-zxvf<span class="w"> </span>/tmp/rust.tar.gz<span class="w"> </span>-C<span class="w"> </span>/usr/local/lib/rustlib/src/rust<span class="w"> </span>--strip-components<span class="o">=</span><span class="m">1</span>
</code></pre></div>

</li>
</ol></div>
    <footer>
<p class="meta">
  <span class="byline author vcard">
    Posted by <span class="fn">Benjamin Du</span>
  </span>
<time datetime="2022-06-02T15:21:12-07:00" pubdate>Jun 02, 2022</time>  <span class="categories">
    <a class="category" href="https://www.legendu.net/en/tag/computer-science.html">Computer Science</a>
    <a class="category" href="https://www.legendu.net/en/tag/programming.html">programming</a>
    <a class="category" href="https://www.legendu.net/en/tag/rust.html">Rust</a>
    <a class="category" href="https://www.legendu.net/en/tag/standalone.html">standalone</a>
    <a class="category" href="https://www.legendu.net/en/tag/linux.html">Linux</a>
    <a class="category" href="https://www.legendu.net/en/tag/rust-src.html">rust-src</a>
  </span>
</p>    </footer>
  </article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
  </section>
</div>
<aside class="sidebar">
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      <li class="post">
          <a href="https://www.legendu.net/en/blog/find-tips/">Tips on the find command in Linux</a>
      </li>
      <li class="post">
          <a href="https://www.legendu.net/en/blog/hands-on-dict-python/">Hands on dict in Python</a>
      </li>
      <li class="post">
          <a href="https://www.legendu.net/en/blog/install-python-in-mac/">Install Python in macOS</a>
      </li>
      <li class="post">
          <a href="https://www.legendu.net/en/blog/my-docker-images/">My Docker Images</a>
      </li>
      <li class="post">
          <a href="https://www.legendu.net/en/blog/pdftk-examples/">Use pdftk to Manipulating PDF Files</a>
      </li>
    </ul>
  </section>
  <section>
    <h1>Categories</h1>
    <ul id="recent_posts">
        <li><a href="https://www.legendu.net/en/category/ai.html">AI</a></li>
        <li><a href="https://www.legendu.net/en/category/career.html">Career</a></li>
        <li><a href="https://www.legendu.net/en/category/computer-science.html">Computer Science</a></li>
        <li><a href="https://www.legendu.net/en/category/fun-problems.html">Fun Problems</a></li>
        <li><a href="https://www.legendu.net/en/category/internet.html">Internet</a></li>
        <li><a href="https://www.legendu.net/en/category/os.html">OS</a></li>
        <li><a href="https://www.legendu.net/en/category/research.html">Research</a></li>
        <li><a href="https://www.legendu.net/en/category/software.html">Software</a></li>
    </ul>
  </section>
 

  <section>
  <h1>Tags</h1>
  <ul class="tagcloud">
  </ul>
  </section>



  <section>
    <h1>GitHub Repos</h1>
    <ul id="gh_repos">
      <li class="loading">Status updating...</li>
    </ul>
      <a href="https://github.com/legendu-net">@legendu-net</a> on GitHub
    <script type="text/javascript">
      $.domReady(function(){
          if (!window.jXHR){
              var jxhr = document.createElement('script');
              jxhr.type = 'text/javascript';
              jxhr.src = 'https://www.legendu.net/en/theme/js/jXHR.js';
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(jxhr, s);
          }

          github.showRepos({
              user: 'legendu-net',
              count: 5,
              skip_forks: true,
              target: '#gh_repos'
          });
      });
    </script>
    <script src="https://www.legendu.net/en/theme/js/github.js" type="text/javascript"> </script>
  </section>

    <section>
        <h1>Social</h2>
        <ul>
            <li><a href="https://www.linkedin.com/in/ben-chuanlong-du-1239b221/" target="_blank">LinkedIn</a></li>
            <li><a href="https://hub.docker.com/u/dclong" target="_blank">Docker Hub</a></li>
            <li><a href="https://stackoverflow.com/users/7808204/benjamin-du?tab=profile" target="_blank">Stack Overflow</a></li>
            <li><a href="https://twitter.com/longendu" target="_blank">Twitter</a></li>
        <!--
            <li><a href="https://www.legendu.net/en/" type="application/rss+xml" rel="alternate">RSS</a></li>
            -->
        </ul>
    </section>
</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Ben Chuanlong Du -
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3STS9BVPF6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3STS9BVPF6');
</script>
	<script type="text/javascript">
	  var disqus_shortname = 'dclong';
          var disqus_identifier = '/blog/install-rust-globally/';
          var disqus_url = 'https://www.legendu.net/en/blog/install-rust-globally/';
          var disqus_title = 'Install Rust Globally in Linux';
	  (function() {
	    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
	    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	   })();
	</script>
</body>
</html>