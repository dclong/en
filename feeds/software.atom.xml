<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Ben Chuanlong Du's Blog - Software</title><link href="https://www.legendu.net/en/" rel="alternate"></link><link href="https://www.legendu.net/en/feeds/software.atom.xml" rel="self"></link><id>https://www.legendu.net/en/</id><updated>2025-05-30T14:37:08-07:00</updated><subtitle>And let it direct your passion with reason.</subtitle><entry><title>Install Python in macOS</title><link href="https://www.legendu.net/en/blog/install-python-in-mac/" rel="alternate"></link><published>2019-02-19T10:18:07-08:00</published><updated>2025-05-30T14:37:08-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-02-19:/en/blog/install-python-in-mac/</id><summary type="html">&lt;p&gt;There are a few ways to install Python in Mac. &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Install system-wide via the official Python installation package.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install locally using Homebrew (recommended).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;You should avoid installing multiple versions of Python in your system. 
It usually brings more troubles than conveniences.
Python virtual environemnts (
  via &lt;a href="https://www.legendu.net/misc/blog/manage-python-projects-using-uv"&gt;uv&lt;/a&gt; 
) and Docker containers are …&lt;/p&gt;</summary><content type="html">&lt;p&gt;There are a few ways to install Python in Mac. &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Install system-wide via the official Python installation package.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install locally using Homebrew (recommended).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;You should avoid installing multiple versions of Python in your system. 
It usually brings more troubles than conveniences.
Python virtual environemnts (
  via &lt;a href="https://www.legendu.net/misc/blog/manage-python-projects-using-uv"&gt;uv&lt;/a&gt; 
) and Docker containers are usually much better alternatives 
when you need different versions of Python.&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://stackoverflow.com/questions/51125013/how-can-i-install-a-previous-version-of-python-3-in-macos-using-homebrew"&gt;How can I install a previous version of Python 3 in macOS using homebrew?&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://osxuninstaller.com/uninstall-guides/properly-uninstall-python-mac/"&gt;How Can I Properly Uninstall Python from Mac (Solved)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="Software"></category><category term="software"></category><category term="install"></category><category term="Python"></category><category term="macOS"></category><category term="uv"></category></entry><entry><title>My Docker Images</title><link href="https://www.legendu.net/en/blog/my-docker-images/" rel="alternate"></link><published>2018-10-18T09:10:17-07:00</published><updated>2025-05-27T12:02:53-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2018-10-18:/en/blog/my-docker-images/</id><summary type="html">&lt;h2 id="recommended-docker-images"&gt;Recommended Docker Images and Tags&lt;/h2&gt;

&lt;p&gt;Most of my Docker images have different variants 
(corresponding to tags &lt;code&gt;latest&lt;/code&gt;, &lt;code&gt;next&lt;/code&gt;, etc) 
for different use cases.
And each tag might have histocial versions 
with the pattern &lt;code&gt;mmddhh&lt;/code&gt; 
(&lt;code&gt;mm&lt;/code&gt;, &lt;code&gt;dd&lt;/code&gt; and &lt;code&gt;hh&lt;/code&gt; stand for the month, day and hour) 
for fallback if a tag …&lt;/p&gt;</summary><content type="html">&lt;h2 id="recommended-docker-images"&gt;Recommended Docker Images and Tags&lt;/h2&gt;

&lt;p&gt;Most of my Docker images have different variants 
(corresponding to tags &lt;code&gt;latest&lt;/code&gt;, &lt;code&gt;next&lt;/code&gt;, etc) 
for different use cases.
And each tag might have histocial versions 
with the pattern &lt;code&gt;mmddhh&lt;/code&gt; 
(&lt;code&gt;mm&lt;/code&gt;, &lt;code&gt;dd&lt;/code&gt; and &lt;code&gt;hh&lt;/code&gt; stand for the month, day and hour) 
for fallback if a tag is broken.
Please refer to the following tag table for more details.&lt;/p&gt;
&lt;table class="tg"&gt;
&lt;thead&gt;
  &lt;tr&gt;
    &lt;th class="tg-0pky"&gt; Tag &lt;/th&gt;
    &lt;th class="tg-0pky"&gt; Base Image OS &lt;/th&gt;
    &lt;th class="tg-0lax"&gt; Comment &lt;/th&gt;
  &lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
    &lt;td class="tg-0lax"&gt; latest &lt;/td&gt;
    &lt;td class="tg-0lax"&gt; 
        Ubuntu LTS (or newer if necessary and well tested) 
    &lt;/td&gt;
    &lt;td class="tg-0lax"&gt; 
        The most recent stable version of the Docker image. 
        &lt;span style="color:green"&gt;
            The latest tag is what most users should use.
        &lt;/span&gt;
        &lt;br&gt;
        It cares more about user friendliness than Docker image size, load speed and even security.
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td class="tg-0lax"&gt; next &lt;/td&gt;
    &lt;td class="tg-0lax"&gt; 
        Ubuntu LTS (or newer if necessary and well tested) 
    &lt;/td&gt;
    &lt;td class="tg-0lax"&gt;
        The most recent testing version of the Docker image.
        &lt;br&gt;
        New features/tools will be added into the next tag 
        before entering other tags.
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td class="tg-0lax"&gt; 23.04 &lt;/td&gt;
    &lt;td class="tg-0lax"&gt; 
        Ubuntu 23.04
    &lt;/td&gt;
    &lt;td class="tg-0lax"&gt;
        For any of the following situations: &lt;br&gt;
        1. a specific Ubuntu/kernel version is required &lt;br&gt;
        2. trying out newer Ubuntu versions than LTS
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td class="tg-0lax"&gt; mmddhh &lt;/td&gt;
    &lt;td class="tg-0lax"&gt; 
        Histoical versions corresponding to the latest tag.
    &lt;/td&gt;
    &lt;td class="tg-0lax"&gt; 
        Fallback tags (for latest) if the latest tag is broken.
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td class="tg-0lax"&gt; next_mmddhh &lt;/td&gt;
    &lt;td class="tg-0lax"&gt; 
        Histoical versions corresponding to the next tag.
    &lt;/td&gt;
    &lt;td class="tg-0lax"&gt; 
        Fallback tags (for next) if the next tag is broken.
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;table class="tg"&gt;
&lt;thead&gt;
  &lt;tr&gt;
    &lt;th class="tg-0lax"&gt; Docker Image &lt;/th&gt;
    &lt;th class="tg-0pky"&gt; Comment &lt;/th&gt;
  &lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
    &lt;td class="tg-0lax"&gt;&lt;a href="https://github.com/legendu-net/docker-vscode-server" target="_blank" rel="noopener noreferrer"&gt;dclong/vscode-server&lt;/a&gt;&lt;/td&gt;
    &lt;td class="tg-0lax"&gt;Cloud IDE &lt;a href="https://github.com/coder/code-server" target="_blank" rel="noopener noreferrer"&gt;code-server&lt;/a&gt; (based on VSCode)&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td class="tg-0lax"&gt;&lt;a href="https://github.com/legendu-net/docker-jupyterhub-ds" target="_blank" rel="noopener noreferrer"&gt;dclong/jupyterhub-ds&lt;/a&gt;&lt;/td&gt;
    &lt;td class="tg-0lax"&gt;Traditional ML&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td class="tg-0lax"&gt;&lt;a href="https://github.com/legendu-net/docker-jupyterhub-pytorch" target="_blank" rel="noopener noreferrer"&gt;dclong/jupyterhub-pytorch&lt;/a&gt;&lt;/td&gt;
    &lt;td class="tg-0lax"&gt;Deep Learning&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td class="tg-0lax"&gt;&lt;a href="https://github.com/legendu-net/docker-python-portable" target="_blank" rel="noopener noreferrer"&gt;dclong/python-portable&lt;/a&gt;&lt;/td&gt;
    &lt;td class="tg-0lax"&gt;Build portable Python using &lt;a href="https://github.com/indygreg/python-build-standalone" target="_blank" rel="noopener noreferrer"&gt;python-build-standalone&lt;/a&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td class="tg-0lax"&gt;&lt;a href="https://github.com/legendu-net/docker-jupyterhub-sagemath" target="_blank" rel="noopener noreferrer"&gt;dclong/jupyterhub-sagemath&lt;/a&gt;&lt;/td&gt;
    &lt;td class="tg-0lax"&gt;Math / Calculus&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td class="tg-0lax"&gt;
        &lt;a href="https://hub.docker.com/layers/dclong/jupyterhub-ds/blog_071520/images/sha256-f6f9f15d18a856786c37a370157e81c9e0acbc80050656858be9330c6213b5fe?context=repo" target="_blank" rel="noopener noreferrer"&gt;dclong/jupyterhub-ds:blog_071520&lt;/a&gt;
    &lt;/td&gt;
    &lt;td class="tg-0lax"&gt;
        For publishing &lt;a href="https://github.com/legendu-net/blog" target="_blank" rel="noopener noreferrer"&gt;legendu.net/blog&lt;/a&gt;
        using CICD. 
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td class="tg-0lax"&gt;&lt;a href="https://github.com/legendu-net/docker-gitpod" target="_blank" rel="noopener noreferrer"&gt;dclong/gitpod&lt;/a&gt;&lt;/td&gt;
    &lt;td class="tg-0lax"&gt;Editing other GitHub repos using GitPod&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td class="tg-0lax"&gt;
        &lt;a href="https://github.com/legendu-net/docker-jupyterhub-kotlin" target="_blank" rel="noopener noreferrer"&gt;dclong/jupyterhub-kotlin&lt;/a&gt; &lt;br&gt;
        &lt;a href="https://github.com/legendu-net/docker-jupyterhub-ganymede" target="_blank" rel="noopener noreferrer"&gt;dclong/jupyterhub-ganymede&lt;/a&gt;
    &lt;/td&gt;
    &lt;td class="tg-0lax"&gt;JVM languages&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td class="tg-0lax"&gt;
        &lt;a href="https://github.com/legendu-net/docker-rustpython" target="_blank" rel="noopener noreferrer"&gt;dclong/rustpython&lt;/a&gt;
    &lt;/td&gt;
    &lt;td class="tg-0lax"&gt;
        RustPython
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id="usage"&gt;Usage&lt;/h2&gt;
&lt;h3 id="install-docker"&gt;Install Docker&lt;/h3&gt;
&lt;p&gt;Please refer to
&lt;a href="http://www.legendu.net/en/blog/docker-installation/"&gt;Install Docker&lt;/a&gt;
for instructions on how to install and configure Docker.&lt;/p&gt;
&lt;h3 id="pull-the-docker-image"&gt;Pull the Docker Image&lt;/h3&gt;
&lt;p&gt;Taking &lt;code&gt;dclong/jupyterhub-ds&lt;/code&gt; as an example,
you can pull it using the command below.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker&lt;span class="w"&gt; &lt;/span&gt;pull&lt;span class="w"&gt; &lt;/span&gt;dclong/jupyterhub-ds
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;For people in mainland of China,
please refer to the post
&lt;a href="http://www.legendu.net/en/blog/speedup-docker-pulling-and-pushing/"&gt;Speedup Docker Pulling and Pushing&lt;/a&gt;
on ways to speed up pushing/pulling of Docker images.
If you don't bother,
then just use the command below.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker&lt;span class="w"&gt; &lt;/span&gt;pull&lt;span class="w"&gt; &lt;/span&gt;registry.docker-cn.com/dclong/jupyterhub-ds
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id="start-a-container-using-ldc"&gt;Start a Container using &lt;code&gt;ldc&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;The recommended way to start containers for Docker images &lt;code&gt;dclong/*&lt;/code&gt;
is to use the &lt;code&gt;ldc&lt;/code&gt; command which comes with 
&lt;a href="https://github.com/legendu-net/icon"&gt;icon&lt;/a&gt;
.&lt;/p&gt;
&lt;h3 id="start-a-container-manually"&gt;Start a Container Manually&lt;/h3&gt;
&lt;p&gt;Below are explanation of some environment variable passed by the option &lt;code&gt;-e&lt;/code&gt; to the Docker command.
Keep the default if you don't know what are the best to use.
&lt;code&gt;DOCKER_PASSWORD&lt;/code&gt; is probably the only one you want to and should change.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;DOCKER_USER&lt;/code&gt;: The user to be created (dynamically) in the Docker container.
    The shell command &lt;code&gt;id -un&lt;/code&gt; gets the name of the current user (on the host),
    so the option &lt;code&gt;-e DOCKER_USER=$(id -un)&lt;/code&gt; instructs the script &lt;code&gt;/scripts/sys/init.sh&lt;/code&gt;
    to create a user in the Docker container whose name is the same as the current user on the host.
    &lt;font color="red"&gt;
    WARNING: the shell script &lt;code&gt;/scripts/sys/init.sh&lt;/code&gt; cannot create a user named &lt;code&gt;root&lt;/code&gt; 
    as it already exists in the Docker container.
    If you start a Docker container using &lt;code&gt;root&lt;/code&gt;, 
    make sure to pass a different user name to the envrionment variable &lt;code&gt;DOCKER_USER&lt;/code&gt;,
    e.g., &lt;code&gt;-e DOCKER_USER=dclong&lt;/code&gt;.
    &lt;/font&gt;
    For more discussion, 
    please refer to &lt;a href="https://github.com/dclong/docker-jupyterhub/issues/3"&gt;this issue&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DOCKER_USER_ID&lt;/code&gt;: The ID of the user to be created in the Docker container.
    The shell command &lt;code&gt;id -u&lt;/code&gt; gets the user ID of the current user (on the host),
    so the option &lt;code&gt;-e DOCKER_USER_ID=$(id -u)&lt;/code&gt; instructs the script &lt;code&gt;/scripts/sys/init.sh&lt;/code&gt;
    to create a user in the Docker container whose user ID is the same as the user ID of the current user on the host.
    This means that the user in the Docker container is essentailly the current user on the host,
    which helps resolve file permissions between the Docker container and the host.
    This option is similar to the option &lt;code&gt;--user&lt;/code&gt; of the command &lt;code&gt;docker run&lt;/code&gt;,
    and you want to keep it unchanged, generally speaking.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DOCKER_PASSWORD&lt;/code&gt;: The password of the user to be created in the Docker container.
    The shell command &lt;code&gt;id -un&lt;/code&gt; get the name of the current user (on the host),
    so the option &lt;code&gt;-e DOCKER_PASSWORD=$(id -un)&lt;/code&gt; instructs the script &lt;code&gt;/scripts/sys/init.sh&lt;/code&gt;
    to create a user in the Docker container whose password is the name of the current user on the host.
    &lt;font color="red"&gt;
    WARNING: You'd better change the default value for security reasons.
    Of course, users can always change it later using the command &lt;code&gt;passwd&lt;/code&gt; inside the Docker container.
    &lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DOCKER_GROUP_ID&lt;/code&gt;: The group ID of the user to be created in the Docker container.
    The shell command &lt;code&gt;id -g&lt;/code&gt; gets the group ID of the current user (on the host),
    so the option &lt;code&gt;-e DOCKER_GROUP_ID=$(id -g)&lt;/code&gt; instructs the script &lt;code&gt;/scripts/sys/init.sh&lt;/code&gt;
    to create a user in the Docker container whose group ID is the same as the group ID of the current user on the host.
    You want to keep this option unchanged, generally speaking.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DOCKER_ADMIN_USER&lt;/code&gt;: This environment variable applies to Docker images &lt;code&gt;dclong/jupyterhub*&lt;/code&gt; only. 
    It specifies the admin user of the JupyterHub server.
    It should be the same as &lt;code&gt;DOCKER_USER&lt;/code&gt; generally speaking.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;USER_MEM_LIMIT&lt;/code&gt;: This environment variable applies to Docker images &lt;code&gt;dclong/jupyterhub*&lt;/code&gt; only.
    It limits the memory that each user can use.
    Note: this optional is not in effect currently.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The root directory of JupyterLab/Jupyter notebooks is &lt;code&gt;/workdir&lt;/code&gt; in the container.
You can mount directory on the host to it as you wish.
Below are illustration using the Docker image &lt;code&gt;dclong/jupyterhub-ds&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The following command starts a container 
and mounts the current working directory and &lt;code&gt;/home&lt;/code&gt; on the host machine 
to &lt;code&gt;/workdir&lt;/code&gt; and &lt;code&gt;/home_host&lt;/code&gt; in the container respectively.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker&lt;span class="w"&gt; &lt;/span&gt;run&lt;span class="w"&gt; &lt;/span&gt;-d&lt;span class="w"&gt; &lt;/span&gt;--init&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;--platform&lt;span class="w"&gt; &lt;/span&gt;linux/amd64&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;--hostname&lt;span class="w"&gt; &lt;/span&gt;jupyterhub-ds&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;--log-opt&lt;span class="w"&gt; &lt;/span&gt;max-size&lt;span class="o"&gt;=&lt;/span&gt;50m&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-p&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;8000&lt;/span&gt;:8000&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-p&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;5006&lt;/span&gt;:5006&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;DOCKER_USER&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;id&lt;span class="w"&gt; &lt;/span&gt;-un&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;DOCKER_USER_ID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;id&lt;span class="w"&gt; &lt;/span&gt;-u&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;DOCKER_PASSWORD&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;id&lt;span class="w"&gt; &lt;/span&gt;-un&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;DOCKER_GROUP_ID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;id&lt;span class="w"&gt; &lt;/span&gt;-g&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;DOCKER_ADMIN_USER&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;id&lt;span class="w"&gt; &lt;/span&gt;-un&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-v&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="nb"&gt;pwd&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;:/workdir&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-v&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;dirname&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$HOME&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;:/home_host&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;dclong/jupyterhub-ds&lt;span class="w"&gt; &lt;/span&gt;/scripts/sys/init.sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The following command (only works on Linux) does the same as the above one 
except that it limits the use of CPU and memory.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker&lt;span class="w"&gt; &lt;/span&gt;run&lt;span class="w"&gt; &lt;/span&gt;-d&lt;span class="w"&gt; &lt;/span&gt;--init&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;--platform&lt;span class="w"&gt; &lt;/span&gt;linux/amd64&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;--name&lt;span class="w"&gt; &lt;/span&gt;jupyterhub-ds&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;--log-opt&lt;span class="w"&gt; &lt;/span&gt;max-size&lt;span class="o"&gt;=&lt;/span&gt;50m&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;--memory&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(($(&lt;/span&gt;head&lt;span class="w"&gt; &lt;/span&gt;-n&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;/proc/meminfo&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;awk&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{print $2}&amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;4&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;5&lt;/span&gt;&lt;span class="k"&gt;))&lt;/span&gt;k&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;--cpus&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$((&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;nproc&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="k"&gt;))&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-p&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;8000&lt;/span&gt;:8000&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-p&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;5006&lt;/span&gt;:5006&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;DOCKER_USER&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;id&lt;span class="w"&gt; &lt;/span&gt;-un&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;DOCKER_USER_ID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;id&lt;span class="w"&gt; &lt;/span&gt;-u&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;DOCKER_PASSWORD&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;id&lt;span class="w"&gt; &lt;/span&gt;-un&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;DOCKER_GROUP_ID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;id&lt;span class="w"&gt; &lt;/span&gt;-g&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;DOCKER_ADMIN_USER&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;id&lt;span class="w"&gt; &lt;/span&gt;-un&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-v&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="nb"&gt;pwd&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;:/workdir&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-v&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;dirname&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$HOME&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;:/home_host&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;dclong/jupyterhub-ds&lt;span class="w"&gt; &lt;/span&gt;/scripts/sys/init.sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id="add-a-new-user-inside-a-docker-container"&gt;Add a New User Inside a Docker Container&lt;/h2&gt;
&lt;p&gt;You can of course use the well know commands &lt;code&gt;useradd&lt;/code&gt;, &lt;code&gt;adduser&lt;/code&gt;, etc. to achive it.
To make things easier for you,
there are some shell scripts in the directory &lt;code&gt;/scripts/sys/&lt;/code&gt; to create usres for you.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/scripts/sys/create_user.sh&lt;/code&gt;: Create a new user. It's the base script for creating users.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/scripts/sys/create_user_group.sh&lt;/code&gt;: Create a new user with the given (existing) group.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/scripts/sys/create_user_nogroup.sh&lt;/code&gt;: Create a new user with group name &lt;code&gt;nogroup&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/scripts/sys/create_user_docker.sh&lt;/code&gt;: Create a new user with group name &lt;code&gt;docker&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can use the option &lt;code&gt;-h&lt;/code&gt; to print help doc for these commands.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/scripts/sys/create_user_nogroup.sh&lt;span class="w"&gt; &lt;/span&gt;-h
Create&lt;span class="w"&gt; &lt;/span&gt;a&lt;span class="w"&gt; &lt;/span&gt;new&lt;span class="w"&gt; &lt;/span&gt;user&lt;span class="w"&gt; &lt;/span&gt;with&lt;span class="w"&gt; &lt;/span&gt;the&lt;span class="w"&gt; &lt;/span&gt;group&lt;span class="w"&gt; &lt;/span&gt;name&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;nogroup&amp;quot;&lt;/span&gt;.
Syntax:&lt;span class="w"&gt; &lt;/span&gt;create_user_nogroup&lt;span class="w"&gt; &lt;/span&gt;user&lt;span class="w"&gt; &lt;/span&gt;user_id&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;password&lt;span class="o"&gt;]&lt;/span&gt;
Arguments:
user:&lt;span class="w"&gt; &lt;/span&gt;user&lt;span class="w"&gt; &lt;/span&gt;name
user_id:&lt;span class="w"&gt; &lt;/span&gt;user&lt;span class="w"&gt; &lt;/span&gt;id
password:&lt;span class="w"&gt; &lt;/span&gt;Optional&lt;span class="w"&gt; &lt;/span&gt;password&lt;span class="w"&gt; &lt;/span&gt;of&lt;span class="w"&gt; &lt;/span&gt;the&lt;span class="w"&gt; &lt;/span&gt;user.&lt;span class="w"&gt; &lt;/span&gt;If&lt;span class="w"&gt; &lt;/span&gt;not&lt;span class="w"&gt; &lt;/span&gt;provided,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;then&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;the&lt;span class="w"&gt; &lt;/span&gt;user&lt;span class="w"&gt; &lt;/span&gt;name&lt;span class="w"&gt; &lt;/span&gt;is&lt;span class="w"&gt; &lt;/span&gt;used&lt;span class="w"&gt; &lt;/span&gt;as&lt;span class="w"&gt; &lt;/span&gt;the&lt;span class="w"&gt; &lt;/span&gt;password.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now suppose you want to create a new user &lt;code&gt;dclong&lt;/code&gt; with user ID &lt;code&gt;2000&lt;/code&gt; and group name &lt;code&gt;nogroup&lt;/code&gt;,
you can use the following command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;/scripts/sys/create_user_nogroup.sh&lt;span class="w"&gt; &lt;/span&gt;dclong&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;2000&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Since we didn't specify a password for the user,
the default password (same as the user name) is used.&lt;/p&gt;
&lt;h2 id="use-the-jupyterhub-server"&gt;Use the JupyterHub Server&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Open your browser and and visit &lt;code&gt;your_host_ip:8000&lt;/code&gt;
    where &lt;code&gt;your_host_ip&lt;/code&gt; is the URL/ip address of your server.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Login to the JupyterHub server 
    using your user name (by default your user name on the host machine)
    and password (by default your user name on the host machine). &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It is strongly suggested (for security reasons) that you change your password (using the command &lt;code&gt;passwd&lt;/code&gt;)
    in the container.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Enjoy JupyterLab notebook!&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="get-information-of-running-jupyterlab-servers"&gt;Get Information of Running Jupyter/Lab Servers&lt;/h2&gt;
&lt;p&gt;If you are using the Jupyter/Lab server instead of JupyterHub,
you will be asked for a token at login.
If you have started the Docker container in interactive mode (option &lt;code&gt;-i&lt;/code&gt; instead of &lt;code&gt;-d&lt;/code&gt;),
the token for login is printed to the console.
Otherwise,
the tokens (and more information about the servers) can be found 
by running the following command outside the Docker container.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;exec&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;jupyterlab&lt;span class="w"&gt; &lt;/span&gt;/scripts/list_jupyter.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The above command tries to be smart in the sense that 
it first figures out the user that started the JupyterLab server 
and then query running Jupyter/Lab servers of that user.
An equivalently but more specifically command 
(if the Docker is launched by the current user in the host)
is as below&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;exec&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-u&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;id&lt;span class="w"&gt; &lt;/span&gt;-un&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;jupyterlab&lt;span class="w"&gt; &lt;/span&gt;/scripts/sys/list_jupyter.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;If you are inside the Docker container, 
then run the following command to get the tokens (and more information about the servers).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/scripts/list_jupyter.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Or equivalently if the Jupyter/Lab server is launched by the current user,&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/scripts/sys/list_jupyter.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;To sum up, 
most of time you can rely on &lt;code&gt;/scripts/list_jupyter.py&lt;/code&gt;
to find the tokens of the running Jupyter/Lab servers,
no matter you are root or the user that launches the Docker/JupyterLab server,
and no matter you are inside the Docker container or not.
Yet another way to get information of the running JupyterLab server 
is to check the log. 
Please refer to the section 
&lt;a href="http://www.legendu.net/en/blog/my-docker-images/#debug-docker-containers"&gt;Debug Docker Containers&lt;/a&gt;
for more information.&lt;/p&gt;
&lt;h2 id="add-a-new-user-for-jupyterhub"&gt;Add a New User for JupyterHub&lt;/h2&gt;
&lt;p&gt;By default,
any user in a Docker container of &lt;code&gt;dclong/jupyterhub-*&lt;/code&gt; can visit the JupyterHub server.
So if you want to grant access to a new user,
just create an account for him in the Docker container.
Please refer to 
&lt;a href="https://www.legendu.net/en/blog/my-docker-images/#add-a-new-user-inside-a-docker-container"&gt;Add a New User Inside a Docker Container&lt;/a&gt;
on how to create a new user inside a Docker container.&lt;/p&gt;
&lt;h2 id="easy-install-of-other-kernels"&gt;Easy Install of Other Kernels&lt;/h2&gt;
&lt;p&gt;Install and configure PySpark for use with the Python kernel.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;icon&lt;span class="w"&gt; &lt;/span&gt;spark&lt;span class="w"&gt; &lt;/span&gt;-ic&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;icon&lt;span class="w"&gt; &lt;/span&gt;pyspark&lt;span class="w"&gt; &lt;/span&gt;-ic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Install the evcxr Rust kernel.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;icon&lt;span class="w"&gt; &lt;/span&gt;evcxr&lt;span class="w"&gt; &lt;/span&gt;-ic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Install the Almond Scala kernel.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;icon&lt;span class="w"&gt; &lt;/span&gt;almond&lt;span class="w"&gt; &lt;/span&gt;-ic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Install the ITypeScript kernel.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;icon&lt;span class="w"&gt; &lt;/span&gt;its&lt;span class="w"&gt; &lt;/span&gt;-ic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Many other software/tools can be easily install by 
&lt;a href="https://github.com/legendu-net/icon"&gt;icon&lt;/a&gt;
.&lt;/p&gt;
&lt;h2 id="debug-docker-containers"&gt;Debug Docker Containers&lt;/h2&gt;
&lt;p&gt;You can change the option &lt;code&gt;docker run -d ...&lt;/code&gt; to &lt;code&gt;docker run -it ...&lt;/code&gt; 
to show logs of processes in the Docker container which helps debugging. 
If you have already started a Docker container using &lt;code&gt;docker run -d ...&lt;/code&gt;,
you can use the command 
&lt;a href="https://docs.docker.com/engine/reference/commandline/logs/"&gt;docker logs&lt;/a&gt;
to get the log of the container
(which contains logs of all processes in it).&lt;/p&gt;
&lt;h2 id="use-spark-in-jupyterlab-notebooks"&gt;Use Spark in JupyterLab Notebooks&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.legendu.net/misc/blog/spark-almond-jupyterlab/"&gt;Use Spark with the Almond Scala Kernel in JupyterLab&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.legendu.net/misc/blog/use-spark-with-the-beakerx-scala-kernel/"&gt;Use Spark With the BeakerX Scala Kernel&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It is suggested that you use the Almond Scala kernel. 
I will gradually drop support of the BeakerX Scala kernel in my Docker images. &lt;/p&gt;
&lt;h2 id="pyspark-pyspark-and-findspark"&gt;PySpark - pyspark and findspark&lt;/h2&gt;
&lt;p&gt;To use PySpark in a container of the Docker image
&lt;a href="https://github.com/dclong/docker-jupyterhub-ds"&gt;dclong/jupyterhub-ds&lt;/a&gt;
you need to install Spark and the Python package &lt;code&gt;pyspark&lt;/code&gt; first,
which can be achieved using the following command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;icon&lt;span class="w"&gt; &lt;/span&gt;spark&lt;span class="w"&gt; &lt;/span&gt;-ic&lt;span class="w"&gt; &lt;/span&gt;--loc&lt;span class="w"&gt; &lt;/span&gt;/opt/&lt;span class="w"&gt;  &lt;/span&gt;
icon&lt;span class="w"&gt; &lt;/span&gt;pyspark&lt;span class="w"&gt; &lt;/span&gt;-ic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Follow the steps below to use PySpark after it is installed.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Open a JupyterLab notebook with the Python kernel from the launcher.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Find and initialize PySpark.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;findspark&lt;/span&gt;
&lt;span class="c1"&gt;# A symbolic link of the Spark Home is made to /opt/spark for convenience&lt;/span&gt;
&lt;span class="n"&gt;findspark&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;init&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/opt/spark&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pyspark.sql&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;SparkSession&lt;/span&gt;
&lt;span class="n"&gt;spark&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SparkSession&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;builder&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;appName&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;PySpark Example&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;enableHiveSupport&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getOrCreate&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use Spark as usual.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;df1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;spark&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;some_hive_table&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;df2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;spark&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sql&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;select * from some_table&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="remote-connection-to-desktop-in-the-container"&gt;Remote Connection to Desktop in the Container&lt;/h2&gt;
&lt;p&gt;If you are running a Docker container with a desktop environment (&lt;code&gt;dclong/lubuntu*&lt;/code&gt; or &lt;code&gt;dclong/xubuntu*&lt;/code&gt;),
you can connect to the desktop environment in the Docker container using NoMachine.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Download the NoMachine client from &lt;a href="https://www.nomachine.com/download"&gt;https://www.nomachine.com/download&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Install the NoMachine client on your computer.&lt;/li&gt;
&lt;li&gt;Create a new connection from your computer 
    to the desktop environment in the Docker image using the NX protocol and port 4000.
    You will be asked for a user name and password.
    By default,
    the user name used to start the Docker container on the host machine 
    is used as both the user name and password in the Docker container.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="list-of-images-and-detailed-information"&gt;List of Images and Detailed Information&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/base/"&gt;dclong/base&lt;/a&gt;  &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;OS: Ubuntu LTS
Time Zone: US Pacific Time&lt;br&gt;
Desktop Environment: None&lt;br&gt;
Remote Desktop: None  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/samba/"&gt;dclong/samba&lt;/a&gt;  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/nfs/"&gt;dclong/nfs&lt;/a&gt;  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/nodejs/"&gt;dclong/nodejs&lt;/a&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://hub.docker.com/r/dclong/typescript/"&gt;dclong/typescript&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/jdk/"&gt;dclong/jdk&lt;/a&gt;  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/python-portable/"&gt;dclong/python-portable&lt;/a&gt;  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/python/"&gt;dclong/python&lt;/a&gt;  &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Python 3.12.x  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/python-jdk/"&gt;dclong/python-jdk&lt;/a&gt;  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/mlflow/"&gt;dclong/mlflow&lt;/a&gt;  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/dryscrape/"&gt;dclong/dryscrape&lt;/a&gt;  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/python-nodejs/"&gt;dclong/python-nodejs&lt;/a&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/jupyterlab"&gt;dclong/jupyterlab&lt;/a&gt;  &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;JupyterLab: latest stable version&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/jupyterhub/"&gt;dclong/jupyterhub&lt;/a&gt;  &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;JupyterHub: latest stable version&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/jupyterhub-ts/"&gt;dclong/jupyterhub-ts&lt;/a&gt;  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/jupyterhub-julia/"&gt;dclong/jupyterhub-julia&lt;/a&gt;  &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Julia stable.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/jupyterhub-cuda/"&gt;dclong/jupyterhub-cuda&lt;/a&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://hub.docker.com/r/dclong/jupyterhub-pytorch/"&gt;dclong/jupyterhub-pytorch&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/jupyterhub-jdk/"&gt;dclong/jupyterhub-jdk&lt;/a&gt;  &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;OpenJDK: 11&lt;br&gt;
Maven: 3.6.x  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/jupyterhub-more/"&gt;dclong/jupyterhub-more&lt;/a&gt;  &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Go&lt;br&gt;
Rust&lt;br&gt;
JavaScript/ TypeScript  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/vscode-server/"&gt;dclong/vscode-server&lt;/a&gt;  &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href="https://github.com/cdr/code-server"&gt;code-server&lt;/a&gt;: latest stable version&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/jupyterhub-ds/"&gt;dclong/jupyterhub-ds&lt;/a&gt;  &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Python packages:&lt;br&gt;
    - loguru pysnooper&lt;br&gt;
    - numpy scipy pandas pyarrow&lt;br&gt;
    - scikit-learn lightgbm&lt;br&gt;
    - graphviz matplotlib bokeh holoviews[recommended] hvplot&lt;br&gt;
    - tabulate&lt;br&gt;
    - JPype1 sqlparse&lt;br&gt;
    - requests[socks] lxml notifiers&lt;br&gt;
    - dsutil  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://hub.docker.com/r/dclong/gitpod/"&gt;dclong/gitpod&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/rust/"&gt;dclong/rust&lt;/a&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://hub.docker.com/r/dclong/rustpython/"&gt;dclong/rustpython&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/ubuntu_cn/"&gt;dclong/ubuntu_cn&lt;/a&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/lubuntu/"&gt;dclong/lubuntu&lt;/a&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/lubuntu-pyside2/"&gt;dclong/lubuntu-pyside2&lt;/a&gt;  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/dclong/lubuntu-jdk/"&gt;dclong/lubuntu-jdk&lt;/a&gt;  &lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="build-my-docker-images"&gt;Build my Docker Images&lt;/h2&gt;
&lt;p&gt;My Docker images are auto built leveraging GitHub Actions workflow 
in the GitHub repository 
&lt;a href="https://github.com/dclong/docker_image_builder"&gt;docker_image_builder&lt;/a&gt;
.&lt;/p&gt;
&lt;h2 id="tips-for-maintaining-docker-images-for-my-own-reference"&gt;Tips for Maintaining Docker Images (for My own Reference)&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Do NOT update the &lt;code&gt;latest&lt;/code&gt; tag 
    until you have fully tested the corresponding &lt;code&gt;next&lt;/code&gt; tag.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Do NOT add new features or tools unless you really need them.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It generally a good idea to restrict versions of non-stable packages to be a specific (working) version 
    or a range of versions that is unlike to break.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you REALLY have to update some Bash script a Docker image,
    do not update it in the GitHub repository directly 
    and build the Docker image to test whether it works.
    Instead,
    make a copy of the Bash script outside the Docker container, 
    update it, 
    and mount it into the container to test whether it work.
    If the updated Bash script work as you expected,
    then go ahead to update it in the GitHub repository.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="on-failure-of-github-actions-workflow-for-building-docker-images"&gt;On Failure of GitHub Actions Workflow for Building Docker Images&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;If the Docker image buidling workflow fails due to network issues,
    it might not work to rerun failed pipelines in GitHub Actions
    (as the network issue is like due to probalematic network nodes
    and retrying failed pipelines sending jobs to the same nodes).
    In such situtions,
    it is better to trigger a new run of the workflow.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="known-issues"&gt;Known Issues&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;NeoVim fails to work 
    if a Docker image (with NeoVim installed) is run on &lt;strong&gt;Mac with the M1 chip&lt;/strong&gt;
    even if you pass the option &lt;code&gt;--platform linux/amd64&lt;/code&gt; to &lt;code&gt;docker run&lt;/code&gt;.
    A possible fix is to manually uninstall NeoVim using the following command&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;wajig&lt;span class="w"&gt; &lt;/span&gt;purge&lt;span class="w"&gt; &lt;/span&gt;neovim
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;and then install Vim instead.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;wajig&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;vim
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The command &lt;code&gt;wajig&lt;/code&gt; fails to cache password 
    if a Docker image (with &lt;code&gt;wajig&lt;/code&gt; installed) is run on &lt;strong&gt;Mac with the M1 chip&lt;/strong&gt;
    even if you pass the option &lt;code&gt;--platform linux/amd64&lt;/code&gt; to &lt;code&gt;docker run&lt;/code&gt;.
    Fortunately, 
    this is not a big issue.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There is an issue with the &lt;code&gt;dclong/xubuntu*&lt;/code&gt; Docker images due to Xfce on Ubuntu 18.04.
    It is suggested that you use the corresponding &lt;code&gt;dclong/lubuntu*&lt;/code&gt; Docker images instead (which are based on LXQt)
    if a desktop environment is needed.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="Software"></category><category term="software"></category><category term="Docker"></category><category term="Docker image"></category><category term="Ubuntu"></category><category term="JupyterLab"></category><category term="Lubuntu"></category><category term="dclong"></category></entry><entry><title>Use pdftk to Manipulating PDF Files</title><link href="https://www.legendu.net/en/blog/pdftk-examples/" rel="alternate"></link><published>2013-10-06T11:44:58-07:00</published><updated>2025-03-10T11:48:31-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2013-10-06:/en/blog/pdftk-examples/</id><summary type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;It is suggested that 
    you use Python modules or &lt;a href="https://misc.legendu.net/blog/editing-pdf-files-using-stirling-pdf/"&gt;Stirling-PDF&lt;/a&gt; 
    instead of &lt;code&gt;pdftk&lt;/code&gt; to manipulating PDFs for several reasons.
    First, 
    even though &lt;code&gt;pdftk&lt;/code&gt; is a great command-line tool,
    it is hard to remember its syntax.
    On the contratry, 
    Python code is easy to read and understand (even though it is …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;It is suggested that 
    you use Python modules or &lt;a href="https://misc.legendu.net/blog/editing-pdf-files-using-stirling-pdf/"&gt;Stirling-PDF&lt;/a&gt; 
    instead of &lt;code&gt;pdftk&lt;/code&gt; to manipulating PDFs for several reasons.
    First, 
    even though &lt;code&gt;pdftk&lt;/code&gt; is a great command-line tool,
    it is hard to remember its syntax.
    On the contratry, 
    Python code is easy to read and understand (even though it is more verbose).
    Second,
    it is not easy to have &lt;code&gt;pdftk&lt;/code&gt; installed and configured on macOS.
    If you prefer a GUI-based application for manipulating PDF files,
    &lt;a href="https://github.com/Stirling-Tools/Stirling-PDF"&gt;Stirling-PDF&lt;/a&gt; 
    is is a robust, locally hosted web-based PDF manipulation tool using Docker.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Please refer to 
    &lt;a href="http://www.legendu.net/misc/blog/pypdf2-examples/"&gt;PyPDF2 Examples&lt;/a&gt;
    for a simple example of extracting PDF pages using the Python package &lt;code&gt;PyPDF2&lt;/code&gt;. 
    If you need to edit PDF pages,
    please refer to
    &lt;a href="http://www.legendu.net/misc/blog/editing-PDF-files/"&gt;Editing PDF Files&lt;/a&gt;
    for possible tools.
    If you do have to stick with &lt;code&gt;pdftk&lt;/code&gt;,
    below are concrete examples on how to use it.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="install-pdftk-on-ubuntu-debian"&gt;Install pdftk on Ubuntu / Debian&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;wajig install pdftk-java
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id="examples-of-using-pdftk"&gt;Examples of Using pdftk&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Fill in forms in an I-9 doc. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# dump fields in the form (optional, for human examination only)&lt;/span&gt;
pdftk&lt;span class="w"&gt; &lt;/span&gt;i9.pdf&lt;span class="w"&gt; &lt;/span&gt;dump_data_fields&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;fields.txt&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="c1"&gt;# generate a FDF data file&lt;/span&gt;
pdftk&lt;span class="w"&gt; &lt;/span&gt;i9.pdf&lt;span class="w"&gt; &lt;/span&gt;generate_fdf&lt;span class="w"&gt; &lt;/span&gt;output&lt;span class="w"&gt; &lt;/span&gt;data.fdf&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="c1"&gt;# after fill in fileds in the FDF file, run the following command&lt;/span&gt;
pdftk&lt;span class="w"&gt; &lt;/span&gt;i9.pdf&lt;span class="w"&gt; &lt;/span&gt;fill_form&lt;span class="w"&gt; &lt;/span&gt;data.fdf&lt;span class="w"&gt; &lt;/span&gt;output&lt;span class="w"&gt; &lt;/span&gt;i9_2.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;If the PDF form to fill in using &lt;code&gt;pdftk&lt;/code&gt; is encrypted, 
you have to decrypt it first. 
&lt;a href="http://smallpdf.com/"&gt;SmallPDF&lt;/a&gt; is a good online service,
which can help you unlock PDF documents if you don't have the encryption password.&lt;/p&gt;
&lt;p&gt;Notice that some PDF forms (e.g., time card, I-9 form, etc.) 
cannot be saved (only a blank copy can be saved). 
after filled in using Adobe Reader.
&lt;code&gt;pdftk&lt;/code&gt; provides a solution to this problem.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Extract pages (from 149 to 186) 
    from the PDF file "training.pdf" 
    as "chap_05.pdf"&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;pdftk&lt;span class="w"&gt; &lt;/span&gt;training.pdf&lt;span class="w"&gt; &lt;/span&gt;cat&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;149&lt;/span&gt;-186&lt;span class="w"&gt; &lt;/span&gt;output&lt;span class="w"&gt; &lt;/span&gt;chap_05.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Combine all my i-20s (all PDF files in current directory) into a single file.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;pdftk&lt;span class="w"&gt; &lt;/span&gt;*.pdf&lt;span class="w"&gt; &lt;/span&gt;cat&lt;span class="w"&gt; &lt;/span&gt;output&lt;span class="w"&gt; &lt;/span&gt;i-20_all.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Combine scaned pages into the right order.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;pdftk&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;A&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;20141206171918820&lt;/span&gt;.pdf&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;B&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;20141206171951015&lt;/span&gt;.pdf&lt;span class="w"&gt; &lt;/span&gt;cat&lt;span class="w"&gt; &lt;/span&gt;A1&lt;span class="w"&gt; &lt;/span&gt;B1&lt;span class="w"&gt; &lt;/span&gt;A2-3&lt;span class="w"&gt; &lt;/span&gt;output&lt;span class="w"&gt; &lt;/span&gt;i-20.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Rotate the first PDF page to 90 degrees clockwise&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;pdftk&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;.pdf&lt;span class="w"&gt; &lt;/span&gt;cat&lt;span class="w"&gt; &lt;/span&gt;1east&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;-end&lt;span class="w"&gt; &lt;/span&gt;output&lt;span class="w"&gt; &lt;/span&gt;out.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Rotate all pages in the second PDF file to 180 degrees&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;pdftk&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;A&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;m11.pdf&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;B&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;m25.pdf&lt;span class="w"&gt; &lt;/span&gt;cat&lt;span class="w"&gt; &lt;/span&gt;A&lt;span class="w"&gt; &lt;/span&gt;Bsouth&lt;span class="w"&gt; &lt;/span&gt;output&lt;span class="w"&gt; &lt;/span&gt;comed.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Rotate an entire PDF document to 180 degrees&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;pdftk&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;.pdf&lt;span class="w"&gt; &lt;/span&gt;cat&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;-endsouth&lt;span class="w"&gt; &lt;/span&gt;output&lt;span class="w"&gt; &lt;/span&gt;out.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.legendu.net/en/blog/editing-PDF-files"&gt;Editing PDF Files&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="Software"></category><category term="pdftk"></category><category term="software"></category><category term="examples"></category><category term="PDF"></category></entry><entry><title>Editing PDF Files</title><link href="https://www.legendu.net/en/blog/editing-PDF-files/" rel="alternate"></link><published>2016-06-30T10:21:47-07:00</published><updated>2024-12-04T19:19:24-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-06-30:/en/blog/editing-PDF-files/</id><summary type="html">&lt;p&gt;&lt;strong&gt;Things on this page are fragmentary and immature notes/thoughts of the author. Please read with your own judgement!&lt;/strong&gt;&lt;/p&gt;
&lt;div style="overflow-x:auto;"&gt;
&lt;style&gt;
    tr:nth-child(even) {background-color: #f2f2f2}
&lt;/style&gt;
&lt;table style="width:100%"&gt;
  &lt;tr&gt;
    &lt;th&gt; Type &lt;/th&gt;
    &lt;th&gt; Name &lt;/th&gt;
    &lt;th&gt; Comments &lt;/th&gt;
  &lt;/tr&gt;

  &lt;tr&gt;
    &lt;td rowspan="6"&gt; Web Tools &lt;/td&gt;
    &lt;td&gt; &lt;a href="https://github.com/Stirling-Tools/Stirling-PDF"&gt;Stirling-PDF&lt;/a&gt; &lt;/td&gt;
    &lt;td&gt;  
      - robust &lt;br&gt;
      - local hosted &lt;br&gt;
      - Docker container based &lt;br&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; &lt;a href="https://app.parseur.com/"&gt;Parseur&lt;/a&gt; &lt;/td&gt;
    &lt;td&gt;  
      - AI-based PDF parser
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; &lt;a href="https://www.docusign.com/"&gt;DocuSign&lt;/a&gt;  &lt;/td&gt;
    &lt;td&gt; 
        - Great for convert PDF files to MS Office files …&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;Things on this page are fragmentary and immature notes/thoughts of the author. Please read with your own judgement!&lt;/strong&gt;&lt;/p&gt;
&lt;div style="overflow-x:auto;"&gt;
&lt;style&gt;
    tr:nth-child(even) {background-color: #f2f2f2}
&lt;/style&gt;
&lt;table style="width:100%"&gt;
  &lt;tr&gt;
    &lt;th&gt; Type &lt;/th&gt;
    &lt;th&gt; Name &lt;/th&gt;
    &lt;th&gt; Comments &lt;/th&gt;
  &lt;/tr&gt;

  &lt;tr&gt;
    &lt;td rowspan="6"&gt; Web Tools &lt;/td&gt;
    &lt;td&gt; &lt;a href="https://github.com/Stirling-Tools/Stirling-PDF"&gt;Stirling-PDF&lt;/a&gt; &lt;/td&gt;
    &lt;td&gt;  
      - robust &lt;br&gt;
      - local hosted &lt;br&gt;
      - Docker container based &lt;br&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; &lt;a href="https://app.parseur.com/"&gt;Parseur&lt;/a&gt; &lt;/td&gt;
    &lt;td&gt;  
      - AI-based PDF parser
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; &lt;a href="https://www.docusign.com/"&gt;DocuSign&lt;/a&gt;  &lt;/td&gt;
    &lt;td&gt; 
        - Great for convert PDF files to MS Office files, etc. &lt;br&gt;
        - non-free: 1 file per 30 minutes &lt;br&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; &lt;a href="https://www.freepdfconvert.com/"&gt;Free PDF Convert&lt;/a&gt; &lt;/td&gt;
    &lt;td&gt; 
        - Great for convert PDF files to MS Office files, etc. &lt;br&gt;
        - non-free: 1 file per 30 minutes &lt;br&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; &lt;a href="https://www.adobe.com/acrobat/online/rearrange-pdf.html"&gt;Adobe Rearrage PDF&lt;/a&gt; &lt;/td&gt;
    &lt;td&gt;  
      - Sign in needed &lt;br&gt;
      - Paid service but free trial available &lt;br&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; &lt;a href="https://www.ilovepdf.com/"&gt;I Love PDF&lt;/a&gt; &lt;/td&gt;
    &lt;td&gt;  
      - No need to sign in &lt;br&gt;
      - Paid service but free trial available &lt;br&gt;
    &lt;/td&gt;
  &lt;/tr&gt;

  &lt;tr&gt;
    &lt;td rowspan="4"&gt; Linux Desktop &lt;/td&gt;
    &lt;td&gt; 
      &lt;a href="https://github.com/pdfarranger/pdfarranger"&gt;PDFArranger&lt;/a&gt; 
    &lt;/td&gt;
    &lt;td&gt;  
        - Opensource and free &lt;br&gt;
        - Easy to use &lt;br&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;  
    Okular
    &lt;/td&gt;
    &lt;td&gt;  
        - support annotating PDFs &lt;br&gt;
        - does NOT support removing/adding PDF pages &lt;br&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
      &lt;a href="https://help.gnome.org/users/evince/stable/"&gt;Evince&lt;/a&gt; &lt;/td&gt;
    &lt;td&gt;  
        - most popular PDF viewer in Linux &lt;br&gt;
        - does NOT support editing PDF files in any way &lt;br&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
      &lt;a href="https://code-industry.net/masterpdfeditor/"&gt;Master PDF Editor&lt;/a&gt; 
    &lt;/td&gt;
    &lt;td&gt;  
        - Free version available but with very limited features. &lt;br&gt;
        - Not recommended.  &lt;br&gt;
    &lt;/td&gt;
  &lt;/tr&gt;

  &lt;tr&gt;
    &lt;td&gt; macOS Desktop &lt;/td&gt;
    &lt;td&gt;Preview&lt;/td&gt;
    &lt;td&gt;  
        - Default PDF viewer on macOS &lt;br&gt;
        - Support rotating, adding and removing pages &lt;br&gt;
    &lt;/td&gt;
  &lt;/tr&gt;

  &lt;tr&gt;
    &lt;td rowspan="4"&gt; Windows Desktop &lt;/td&gt;
    &lt;td&gt; 
      &lt;a href="https://code-industry.net/masterpdfeditor/"&gt;Master PDF Editor&lt;/a&gt; 
    &lt;/td&gt;  
    &lt;td&gt;  
        - Free version available but with very limited features. &lt;br&gt;
        - Not recommended. &lt;br&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; Wondershare PDFelement &lt;/td&gt;
    &lt;td&gt;  
      - Great one &lt;br&gt;
      - support Chinese font when filling forms &lt;br&gt;
      - need to purchase a licence &lt;br&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; &lt;a href="https://www.pdffiller.com/"&gt;PDFfiller&lt;/a&gt; &lt;/td&gt;
    &lt;td&gt;  
        - good one &lt;br&gt;
        - does NOT support Chinese font when filling forms &lt;br&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://www.pdffiller.com/"&gt;Bluebeam Revue eXtreme&lt;/a&gt; 
    &lt;/td&gt;
    &lt;td&gt;  
      - Great one &lt;br&gt;
      - support Chinese fonts when filling forms &lt;br&gt;
      - need to purchase a license but 30 days free trial available &lt;br&gt;
    &lt;/td&gt;
  &lt;/tr&gt;

  &lt;tr&gt;
    &lt;td rowspan="7"&gt; Python Libraries &lt;/td&gt;
    &lt;td&gt; 
    &lt;a href="https://github.com/py-pdf/pypdf"&gt;PyPDF&lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt;  
      A utility to read and write PDFs with Python.
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
      &lt;a href="https://github.com/jsvine/pdfplumber"&gt;pdfplumber&lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt;  
    Plumbs a PDF for detailed information about each char, rectangle, line, et cetera,
    and easily extract text and tables.
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; &lt;a href="https://github.com/jalan/pdftotext"&gt;pdftotext&lt;/a&gt; &lt;/td&gt;
    &lt;td&gt;  
    Great at parsing text from PDFs which also keeps the original layout as much as possible.
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; &lt;a href="https://github.com/pdfminer/pdfminer.six"&gt;pdfminer.six&lt;/a&gt; &lt;/td&gt;
    &lt;td&gt;  
    A Python library for parsing PDF.
    It is good for manipulating PDF files 
    but weak at parsing text from PDF files.
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; &lt;a href="https://github.com/socialcopsdev/camelot/"&gt;camelot&lt;/a&gt; &lt;/td&gt;
    &lt;td&gt;  
    A Python library for extracting data tables in PDF files.
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; &lt;a href="https://github.com/chezou/tabula-py"&gt;tabula-py&lt;/a&gt; &lt;/td&gt;
    &lt;td&gt;  
    A Python binding for [tabulapdf/tabula](https://github.com/tabulapdf/tabula).
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; &lt;a href="https://github.com/chrismattmann/tika-python"&gt;tika-python&lt;/a&gt; &lt;/td&gt;
    &lt;td&gt;  
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;

&lt;h2 id="java-libraries"&gt;Java Libraries&lt;/h2&gt;
&lt;h3 id="tabulapdftabula"&gt;&lt;a href="https://github.com/tabulapdf/tabula"&gt;tabulapdf/tabula&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;A Java library for liberating data tables trapped inside PDF files.&lt;/p&gt;
&lt;h3 id="apachetika"&gt;&lt;a href="https://github.com/apache/tika"&gt;apache/tika&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The Apache Tika™ toolkit detects and extracts metadata and text from over a thousand different file types (such as PPT, XLS, and PDF). 
All of these file types can be parsed through a single interface, making Tika useful for search engine indexing, content analysis, translation, and much more. &lt;/p&gt;
&lt;h2 id="command-line-tools"&gt;Command-line Tools&lt;/h2&gt;
&lt;h3 id="pdftk"&gt;pdftk&lt;/h3&gt;
&lt;p&gt;A command-line tool for filling fileds in PDF docs.&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://misc.legendu.net/blog/extracting-data-from-pdf-files/"&gt;Extracting Data from PDF Files&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://towardsdatascience.com/python-for-pdf-ef0fac2808b0"&gt;Python for PDF&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.legendu.net/misc/blog/hands-on-the-python-library-pdfplumber"&gt;Hands on the Python Library pdfplumber&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.legendu.net/en/blog/python-pdf-pypdf2"&gt;Extracting PDF pages using the Python Package PyPDF2&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.legendu.net/en/blog/pdftk-examples"&gt;Use pdftk to Manipulating PDF Files&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.legendu.net/misc/blog/okular-tips"&gt;View and Edit PDF Documents Using Okular&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.legendu.net/misc/blog/hands-on-the-python-library-pdfplumber"&gt;Hands on the Python Library Pdfplumber&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="Software"></category><category term="software"></category><category term="PDF"></category><category term="tools"></category><category term="edit"></category><category term="convert"></category><category term="PDFfiller"></category></entry><entry><title>Android Emulators</title><link href="https://www.legendu.net/en/blog/android-emulators/" rel="alternate"></link><published>2018-09-12T23:41:58-07:00</published><updated>2024-08-25T13:00:48-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2018-09-12:/en/blog/android-emulators/</id><summary type="html">&lt;table style="width:100%"&gt;
  &lt;tr&gt;
    &lt;th&gt; Name &lt;/th&gt;
    &lt;th&gt; Free &lt;/th&gt;
    &lt;th&gt; OS &lt;/th&gt;
    &lt;th&gt; Hyper-v Compat on Win&lt;/th&gt;
    &lt;th&gt; ARM-only App Support &lt;/th&gt;
    &lt;th&gt; Development &lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://www.genymotion.com"&gt; GenyMotion &lt;/a&gt;
    &lt;a href="#footnote1"&gt;[1]&lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; Limited &lt;/td&gt;
    &lt;td&gt; Windows, macOS, Linux &lt;/td&gt;
    &lt;td&gt; Partial &lt;/td&gt;
    &lt;td&gt; Limited &lt;/td&gt;
    &lt;td&gt; Active &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://www.bluestacks.com"&gt; BlueStacks &lt;/a&gt;
    &lt;a href="#footnote2"&gt;[2]&lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; Windows, macOS &lt;/td&gt;
    &lt;td&gt; No &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; Active &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://www.ldplayer.net"&gt; LDPlayer &lt;/a&gt;
    &lt;a href="#footnote3"&gt;[3]&lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; Windows &lt;/td&gt;
    &lt;td&gt; No &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; Active &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://www.linzhuotech.com/index.php/home/index/xdroid.html"&gt; xDroid &lt;/a&gt;
    &lt;a href="#footnote1"&gt;[9]&lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; Limited &lt;/td&gt;
    &lt;td&gt; Linux &lt;/td&gt;
    &lt;td&gt; NA &lt;/td&gt;
    &lt;td&gt; Limited &lt;/td&gt;
    &lt;td&gt; Active &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://mumu.163.com"&gt; MuMu App Player &lt;/a&gt;
    &lt;a href="#footnote5"&gt;[5]&lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; macOS (M chip …&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</summary><content type="html">&lt;table style="width:100%"&gt;
  &lt;tr&gt;
    &lt;th&gt; Name &lt;/th&gt;
    &lt;th&gt; Free &lt;/th&gt;
    &lt;th&gt; OS &lt;/th&gt;
    &lt;th&gt; Hyper-v Compat on Win&lt;/th&gt;
    &lt;th&gt; ARM-only App Support &lt;/th&gt;
    &lt;th&gt; Development &lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://www.genymotion.com"&gt; GenyMotion &lt;/a&gt;
    &lt;a href="#footnote1"&gt;[1]&lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; Limited &lt;/td&gt;
    &lt;td&gt; Windows, macOS, Linux &lt;/td&gt;
    &lt;td&gt; Partial &lt;/td&gt;
    &lt;td&gt; Limited &lt;/td&gt;
    &lt;td&gt; Active &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://www.bluestacks.com"&gt; BlueStacks &lt;/a&gt;
    &lt;a href="#footnote2"&gt;[2]&lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; Windows, macOS &lt;/td&gt;
    &lt;td&gt; No &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; Active &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://www.ldplayer.net"&gt; LDPlayer &lt;/a&gt;
    &lt;a href="#footnote3"&gt;[3]&lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; Windows &lt;/td&gt;
    &lt;td&gt; No &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; Active &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://www.linzhuotech.com/index.php/home/index/xdroid.html"&gt; xDroid &lt;/a&gt;
    &lt;a href="#footnote1"&gt;[9]&lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; Limited &lt;/td&gt;
    &lt;td&gt; Linux &lt;/td&gt;
    &lt;td&gt; NA &lt;/td&gt;
    &lt;td&gt; Limited &lt;/td&gt;
    &lt;td&gt; Active &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://mumu.163.com"&gt; MuMu App Player &lt;/a&gt;
    &lt;a href="#footnote5"&gt;[5]&lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; macOS (M chip) &lt;/td&gt;
    &lt;td&gt; No &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; Active &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://syzs.qq.com/"&gt; 腾讯手游助手 &lt;/a&gt;
    &lt;a href="#footnote5"&gt;[6]&lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; Windows &lt;/td&gt;
    &lt;td&gt; No &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; Active &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://waydro.id/"&gt; Waydroid &lt;/a&gt;
    &lt;a href="#footnote1"&gt;[11]&lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; Linux &lt;/td&gt;
    &lt;td&gt; NA &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; Active &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://anbox-cloud.io/"&gt; AnBox Cloud &lt;/a&gt;
    &lt;a href="#footnote4"&gt;[4]&lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; No &lt;/td&gt;
    &lt;td&gt; Windows, macOS, Linux &lt;/td&gt;
    &lt;td&gt; NA &lt;/td&gt;
    &lt;td&gt; ? &lt;/td&gt;
    &lt;td&gt; Active &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://www.android-x86.org"&gt; Android-x86 + VirtualBox &lt;/a&gt;
    &lt;a href="#footnote6"&gt;[7]&lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; Windows, macOS, Linux &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; Limited &lt;/td&gt;
    &lt;td&gt; Active &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://developer.android.com/studio"&gt; Android SDK + Android Studio &lt;/a&gt;
    &lt;a href="#footnote7"&gt;[8]&lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; Windows, macOS, Linux &lt;/td&gt;
    &lt;td&gt; ? &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; Active &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://github.com/budtmo/docker-android"&gt; docker-android &lt;/a&gt;
    &lt;a href="#footnote1"&gt;[10]&lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; Windows, macOS, Linux &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; Limited &lt;/td&gt;
    &lt;td&gt; Active &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;

&lt;p&gt;[1] &lt;a href="https://www.genymotion.com/"&gt;GenyMotion&lt;/a&gt;
is a great cross-platform choice.
A free version with limited features is available.
The desktop version of GenyMotion 
can be downloaded at
&lt;a href="https://www.genymotion.com/fun-zone/"&gt;https://www.genymotion.com/fun-zone/&lt;/a&gt;
.&lt;/p&gt;
&lt;p&gt;[2] &lt;a href="https://www.bluestacks.com/"&gt;BlueStacks&lt;/a&gt; 
is a good free Android emulator for Windows and Mac.&lt;/p&gt;
&lt;p&gt;[3] &lt;a href="https://www.ldplayer.net/"&gt;LDPlayer&lt;/a&gt; (also called 雷电模拟器 in Chinese) 
is a good free Android emulator for Windows only.&lt;/p&gt;
&lt;p&gt;[4] &lt;a href="https://anbox.io/"&gt;AnBox&lt;/a&gt;
is an open-source WINE-like Android emulator for Linux only (CANNOT be run on macOS).
ARM apps can be run on x86-based Linux OS with Android 11+ images.
For more details,
please refer to
&lt;a href="https://android-developers.googleblog.com/2020/03/run-arm-apps-on-android-emulator.html"&gt;Run ARM apps on the Android Emulator&lt;/a&gt;
.&lt;/p&gt;
&lt;p&gt;[5] &lt;a href="https://mumu.163.com/"&gt;MuMu App Player&lt;/a&gt;
is an Android emulator develop by the Chinese company Wangyi for Windows and macOS.
An English version is also availabe at https://mumu.163.com/global/download/en/.
Tribal Pioneer works on MuMu App Player on macOS!!!&lt;/p&gt;
&lt;p&gt;[7] &lt;a href="https://www.android-x86.org/"&gt;Android X86&lt;/a&gt;
is a project to port Android Open Source Project to x86 platform.
It works across operating systems (Windows, macOS and Linux).
Android X86 supports provides ISO and RPM files
rather than an out-of-the-box application.
You have to install an ISO or RPM file to you device 
which will add an Android operating system to your device.
You can of course install it into a virutal environemnt (e.g., using VirtualBox)
which is essentially what other out-of-the-box applications does.&lt;/p&gt;
&lt;p&gt;[8] Android SDK and Android Studio works together to emulate software found on Android 
using the resources of your PC. 
Android developers mostly use Android SDK tools for testing and development purposes, 
but it'll work for casual use and play as well.&lt;/p&gt;
&lt;p&gt;[9] xDroid is an Android emulator 
(seems to be a commerical software based on AnBox) 
for Linux only.
The x86_64 version is free for personal use.&lt;/p&gt;
&lt;p&gt;[10] Docker-Android is a docker image 
built to be used for everything 
related to mobile website testing and Android project.&lt;/p&gt;
&lt;p&gt;[11] Waydroid is a container-based approach to boot a full Android system on a regular GNU/Linux system like Ubuntu.
It is a successor of AnBox.&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://android-developers.googleblog.com/2020/03/run-arm-apps-on-android-emulator.html"&gt;Run ARM apps on the Android Emulator&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://blog.csdn.net/weixin_39991222/article/details/109897655?utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-2.control&amp;amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-2.control"&gt;安卓虚拟键盘_干货分享：推荐几款性能不错的安卓模拟器&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://emulation.gametechwiki.com/index.php/Android_emulators"&gt;Android Emulators @ GameTechWiki&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.legendu.net/misc/blog/virtualbox-tip"&gt;Tips on Virtualbox&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://copy.sh/v86/"&gt;x86 Virtualization in Browser&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="Software"></category><category term="software"></category><category term="Android"></category><category term="emulation"></category><category term="emulator"></category><category term="AnBox"></category><category term="VirtualBox"></category><category term="xDroid"></category></entry><entry><title>Make Traffic Follow Through Proxies Using ProxyChains</title><link href="https://www.legendu.net/en/blog/proxychains-tips/" rel="alternate"></link><published>2017-06-30T14:34:01-07:00</published><updated>2023-08-01T09:14:37-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-06-30:/en/blog/proxychains-tips/</id><summary type="html">&lt;h2 id="installation"&gt;Installation&lt;/h2&gt;
&lt;h3 id="ubuntu"&gt;Ubuntu&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;wajig install proxychains4
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id="mac"&gt;Mac&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;brew install proxychains-ng
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Notice that the proxychains-ng installed using Homebrew on Mac does not work well right now (as of 2019-03-07).
An alternative way is to use proxychains via Docker on Mac.
The Docker image
&lt;a href="https://cloud.docker.com/repository/docker/dclong/jupyterhub-ds"&gt;dclong/jupyterhub-ds&lt;/a&gt;
has proxychains (NOT proxychains-ng) installed.&lt;/p&gt;
&lt;h2 id="syntax"&gt;Syntax&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;proxychains4 …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;h2 id="installation"&gt;Installation&lt;/h2&gt;
&lt;h3 id="ubuntu"&gt;Ubuntu&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;wajig install proxychains4
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id="mac"&gt;Mac&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;brew install proxychains-ng
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Notice that the proxychains-ng installed using Homebrew on Mac does not work well right now (as of 2019-03-07).
An alternative way is to use proxychains via Docker on Mac.
The Docker image
&lt;a href="https://cloud.docker.com/repository/docker/dclong/jupyterhub-ds"&gt;dclong/jupyterhub-ds&lt;/a&gt;
has proxychains (NOT proxychains-ng) installed.&lt;/p&gt;
&lt;h2 id="syntax"&gt;Syntax&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;proxychains4&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;--help&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;-q&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;-f config_file&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;program_name&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;arguments&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="nl"&gt;help&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;help&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;doc&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;q&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;makes&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;proxychains&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;quiet&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;overrides&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;setting&lt;/span&gt;
&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;allows&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;one&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;manually&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;specify&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;configfile&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;use&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id="use-case-of-proxychains"&gt;Use Case of ProxyChains&lt;/h2&gt;
&lt;p&gt;There are multiple typical use cases of ProxyChains.
First,
ProxyChains can be used to circumstance a firewall through a single proxy. 
In this case, 
there can only be 1 proxy defined for ProxyChains
and it is best to specify the &lt;code&gt;strict_chain&lt;/code&gt; option for ProxyChains.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;strict_chain
quiet_mode
tcp_read_time_out 15000
tcp_connect_time_out 8000
localnet 127.0.0.1/255.0.0.0

[ProxyList]
socks5     127.0.0.1 1080
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Second,
ProxyChains can be used to cirumstance a firewall through a chain of proxies (in a certain order).
In this situation, 
a single proxy is not enough but you must redict your connection 
through multiple proxies in a certain order (a chain of proxies).
You have to list the proxies to use in the order you want to connect 
and specify the &lt;code&gt;strict_chain&lt;/code&gt; option. 
Different types of proxies can be used.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;strict_chain
quiet_mode
tcp_read_time_out 15000
tcp_connect_time_out 8000
localnet 127.0.0.1/255.0.0.0

[ProxyList]
socks5     proxy_ip_1 1080
http     proxy_ip_2 1080
socks5     proxy_ip_3 1080
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Last,
ProxyChains can be used to hide your identity similar to what tor can do for you. 
In order to do this, 
you have to define multiple proxies 
and redirect your connection through a chain of those proxies (in random order).
You have to specify the &lt;code&gt;dynamic_chain&lt;/code&gt; or &lt;code&gt;random_chain&lt;/code&gt; option.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;dynamic_chain
quiet_mode
tcp_read_time_out 15000
tcp_connect_time_out 8000
localnet 127.0.0.1/255.0.0.0

[ProxyList]
socks5     proxy_ip_1 1080
http     proxy_ip_2 1080
socks5     proxy_ip_3 1080
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id="tricks-and-traps"&gt;Tricks and Traps&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ProxyChains supports only &lt;code&gt;IP PORT&lt;/code&gt; but not &lt;code&gt;DNS_NAME PORT&lt;/code&gt; now.
    Notably, 
    &lt;code&gt;127.0.0.1&lt;/code&gt; is OK but not &lt;code&gt;localhost&lt;/code&gt;.
    For more details, 
    please refer to the issue 
    &lt;a href="https://github.com/rofl0r/proxychains-ng/issues/246"&gt;How to specify server by DOMAIN PORT not IP PORT?&lt;/a&gt;
    .&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There is no special requirement on the SSH configuration file (&lt;code&gt;$HOME/.ssh/config&lt;/code&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;socks5&lt;/code&gt; is prefer to &lt;code&gt;socks4&lt;/code&gt; when you use a socks proxy (SSH tunnel).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="example-of-proxychains-configuration"&gt;Example of ProxyChains Configuration&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;strict_chain
quiet_mode
tcp_read_time_out 15000
tcp_connect_time_out 8000
localnet 127.0.0.1/255.0.0.0

[ProxyList]
socks5     127.0.0.1 1080
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id="error-message"&gt;Error Message&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;SSH Configuration&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;muxserver_listen bind(): No such file or directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This is probably due to configuration of SSH.
For example,
if you have the following line in the config file for SSH,
you have to make sure that the directory &lt;code&gt;~/.ssh/control&lt;/code&gt; exists.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ControlPath&lt;span class="w"&gt; &lt;/span&gt;~/.ssh/control/ssh_%h
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Shell Alias&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[proxychains] config file found: /home/dclong/.proxychains/proxychains.conf
[proxychains] preloading /usr/local/lib/libproxychains4.so
proxychains can't load process....: No such file or directory&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It is possibly due to alias used with ProxyChains.
For example,
I have the alias defined.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nb"&gt;alias&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;ssh.analytics&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ssh analytics_server_ip&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;proxychains4 ssh.analytics&lt;/code&gt; throws the above error message
while &lt;code&gt;proxychains4 ssh analytics_server_ip&lt;/code&gt; works well.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There seems to be an issue if ProxyChains is directly in a VM,
    but it works well if used in a Docker on the VM ...&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="advanced-discussions"&gt;Advanced Discussions&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://github.com/rofl0r/proxychains-ng/issues/246"&gt;How to specify server by DOMAIN PORT not IP PORT?&lt;/a&gt;&lt;/p&gt;
&lt;h3 id="use-different-proxies-for-different-servers"&gt;Use Different Proxies for Different Servers&lt;/h3&gt;
&lt;p&gt;ProxyChains does not support configuring different proxies for different servers directly, 
however,
tinyproxy can be configured to use different upstream proxies for different destinations, 
and you can run tinyproxy on localhost and put its address into your proxychains configuration.&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://linuxhint.com/proxychains-tutorial/"&gt;ProxyChains Tutorial&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.milesweb.com/blog/technology-hub/concatenate-multiple-proxies-proxychains/"&gt;Concatenate Multiple Proxies Using ProxyChains&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="Software"></category><category term="Software"></category><category term="ProxyChains"></category><category term="network"></category><category term="web"></category><category term="proxy"></category></entry><entry><title>SSH Tunnel</title><link href="https://www.legendu.net/en/blog/ssh-tunnel/" rel="alternate"></link><published>2018-09-07T21:32:57-07:00</published><updated>2023-08-01T09:13:09-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2018-09-07:/en/blog/ssh-tunnel/</id><summary type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The StackOverflow discussion 
    &lt;a href="https://unix.stackexchange.com/questions/115897/whats-ssh-port-forwarding-and-whats-the-difference-between-ssh-local-and-remot#:~:text=Introduction,port%20on%20the%20remote%20side.&amp;amp;text=remote%3A%20%2DR%20Specifies%20that%20the,port%20on%20the%20local%20side."&gt;What's ssh port forwarding and what's the difference between ssh local and remote port forwarding [duplicate]&lt;/a&gt;
    has a good visual comparison/explanation of the difference 
    between the &lt;code&gt;ssh -L&lt;/code&gt; (&lt;code&gt;-L&lt;/code&gt; stands for local) and &lt;code&gt;ssh -R&lt;/code&gt; (&lt;code&gt;-R&lt;/code&gt; stands for remote).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/pahaz/sshtunnel"&gt;sshtunnel&lt;/a&gt;
    is a Python implementation of SSH …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The StackOverflow discussion 
    &lt;a href="https://unix.stackexchange.com/questions/115897/whats-ssh-port-forwarding-and-whats-the-difference-between-ssh-local-and-remot#:~:text=Introduction,port%20on%20the%20remote%20side.&amp;amp;text=remote%3A%20%2DR%20Specifies%20that%20the,port%20on%20the%20local%20side."&gt;What's ssh port forwarding and what's the difference between ssh local and remote port forwarding [duplicate]&lt;/a&gt;
    has a good visual comparison/explanation of the difference 
    between the &lt;code&gt;ssh -L&lt;/code&gt; (&lt;code&gt;-L&lt;/code&gt; stands for local) and &lt;code&gt;ssh -R&lt;/code&gt; (&lt;code&gt;-R&lt;/code&gt; stands for remote).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/pahaz/sshtunnel"&gt;sshtunnel&lt;/a&gt;
    is a Python implementation of SSH tunnel 
    (based on &lt;a href="https://github.com/paramiko/paramiko"&gt;paramiko&lt;/a&gt;)
    .&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="ssh-tunnel"&gt;SSH Tunnel&lt;/h2&gt;
&lt;p&gt;You can create a SSH tunnel from your local machine to a server using the command below.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ssh&lt;span class="w"&gt; &lt;/span&gt;-i&lt;span class="w"&gt; &lt;/span&gt;/path_to_key&lt;span class="w"&gt; &lt;/span&gt;-fND&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1080&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;user@server_ip
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The created SSH tunnel is essentially a socks5 proxy 
and can be accessed as &lt;code&gt;localhost:1080&lt;/code&gt;.
If you want the tunnel (socks5 proxy) to be accessible by other machines as well
rathe than the localhost only, 
you can bind it to all IPs.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ssh&lt;span class="w"&gt; &lt;/span&gt;-i&lt;span class="w"&gt; &lt;/span&gt;/path_to_key&lt;span class="w"&gt; &lt;/span&gt;-fND&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;*:1080&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;user@server_ip
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;You can verify that the tunnel (socks5 proxy) is working using the following command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;netstat&lt;span class="w"&gt; &lt;/span&gt;-tlnp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Or you can try to visit a website using curl through the socks5 proxy.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;curl&lt;span class="w"&gt; &lt;/span&gt;--socks5&lt;span class="w"&gt; &lt;/span&gt;localhost:1080&lt;span class="w"&gt; &lt;/span&gt;www.google.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id="reverse-ssh-tunnel"&gt;Reverse SSH Tunnel&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ssh&lt;span class="w"&gt; &lt;/span&gt;-fN&lt;span class="w"&gt; &lt;/span&gt;-L&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;8888&lt;/span&gt;:localhost:8888&lt;span class="w"&gt; &lt;/span&gt;user@domain.com
ssh&lt;span class="w"&gt; &lt;/span&gt;-o&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;ProxyCommand&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ssh &amp;lt;bastion_server&amp;gt; -W %h:%p&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-R&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;20000&lt;/span&gt;:localhost:22&lt;span class="w"&gt; &lt;/span&gt;&amp;lt;target_server&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;For more discussions,
please refer to
&lt;a href="https://www.howtoforge.com/reverse-ssh-tunneling"&gt;reverse-ssh-tunneling&lt;/a&gt;
,
&lt;a href="https://unix.stackexchange.com/questions/46235/how-does-reverse-ssh-tunneling-work"&gt;how-does-reverse-ssh-tunneling-work&lt;/a&gt;
and
&lt;a href="https://blog.devolutions.net/2017/3/what-is-reverse-ssh-port-forwarding"&gt;what-is-reverse-ssh-port-forwarding&lt;/a&gt;
.&lt;/p&gt;
&lt;h2 id="advanced-usage-1-ssh-into-a-server-using-proxy"&gt;Advanced Usage 1: SSH into a Server Using Proxy&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ssh&lt;span class="w"&gt; &lt;/span&gt;-o&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;ProxyCommand&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ssh bastion_server -W %h:%p&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;target_server
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id="advanced-usage-2-ssh-tunnel-to-avoid-2fa"&gt;Advanced Usage 2: SSH Tunnel to Avoid 2FA&lt;/h2&gt;
&lt;p&gt;Suppose you have 2 machines A and B. 
Machine B is only accssible from machine A using SSH through 2FA.
You can create and persist a SSH tunnel from machine A to machine B 
(2FA is still required when creating the SSH tunnel).
Then you can avoid 2FA when connecting from machine A to machine B 
by using the created SSH tunnel as socks5 proxy through tools such as ProxyChains. &lt;/p&gt;
&lt;p&gt;If you do not want to rely another another tools (such as ProxyChains),
you can configure SSH to persist and reuse connections.
For more discussions on this, 
please refer to the 
&lt;a href="https://www.legendu.net/en/blog/ssh-tips/#multiplexing-controlmaster"&gt;SSH Tunnel - Multiplexing / ControlMaster&lt;/a&gt;
.&lt;/p&gt;
&lt;h2 id="advanced-usage-3-access-service-in-an-indirectly-accessible-remote-server"&gt;Advanced Usage 3: Access Service in an Indirectly Accessible Remote Server&lt;/h2&gt;
&lt;p&gt;Suppose you have 2 machines A and B. 
Machine B cannot visit the public network nor machine A.
However, 
machine B is accssible (directly or via a bastion server) 
from machine A using SSH and machine A can visit the public network. 
You can follow the steps below to access service running on machine B.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Start the service on machine B if it is not already running.
    Let use the JupyterLab server as an example here,
    and assume it is running on the port 8888 on machine B.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Run the following command on machine A 
    to forward visits of the port 3333 on machine A to the port 8888 on machine B.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ssh&lt;span class="w"&gt; &lt;/span&gt;-fNL&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;3333&lt;/span&gt;:localhost:8888&lt;span class="w"&gt; &lt;/span&gt;ip_of_machine_b
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can then visit &lt;code&gt;ip_of_machine_a:3333&lt;/code&gt; to access the JupyterLab service running on machine B.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="advanced-usage-4-ssh-reverse-tunnel-ssh-tunnel"&gt;Advanced Usage 4: SSH Reverse Tunnel + SSH Tunnel&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ssh&lt;span class="w"&gt; &lt;/span&gt;-o&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;ProxyCommand&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ssh bastion_server -W %h:%p&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-R&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;20000&lt;/span&gt;:localhost:22&lt;span class="w"&gt; &lt;/span&gt;target_server
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id="advanced-usage-5-ssh-reverse-tunnel-ssh-tunnel"&gt;Advanced Usage 5: SSH Reverse Tunnel + SSH Tunnel&lt;/h2&gt;
&lt;p&gt;Suppose you have 2 machines A and B. 
Machine B cannot visit the public network nor machine A.
However, 
machine B is accssible (directly or via a bastion server) from machine A 
using SSH and machine A can visit the public network. 
You can follow the steps below to access the public network from machine B.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Create a Reversed SSH tunnel from machine A to machine B.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ssh&lt;span class="w"&gt; &lt;/span&gt;-i&lt;span class="w"&gt; &lt;/span&gt;/path_to_key&lt;span class="w"&gt; &lt;/span&gt;-o&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;ProxyCommand&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ssh bastion_server -W %h:%p&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-R&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;20000&lt;/span&gt;:localhost:22&lt;span class="w"&gt; &lt;/span&gt;ip_of_machine_b
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create a SSH Tunnel on machine B.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ssh&lt;span class="w"&gt; &lt;/span&gt;-i&lt;span class="w"&gt; &lt;/span&gt;/path_to_key&lt;span class="w"&gt; &lt;/span&gt;-fND&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1080&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;localhost
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use the created SSH Tunnel as a socks5 proxy to visit the public network via proxychains.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;proxychains&lt;span class="w"&gt; &lt;/span&gt;pip3&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;pytorch
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/pahaz/sshtunnel"&gt;sshtunnel&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://unix.stackexchange.com/questions/115897/whats-ssh-port-forwarding-and-whats-the-difference-between-ssh-local-and-remot#:~:text=Introduction,port%20on%20the%20remote%20side.&amp;amp;text=remote%3A%20%2DR%20Specifies%20that%20the,port%20on%20the%20local%20side."&gt;What's ssh port forwarding and what's the difference between ssh local and remote port forwarding [duplicate]&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://benjlindsay.com/posts/running-jupyter-lab-remotely"&gt;Running Jupyter Lab Remotely&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.systutorials.com/944/proxy-using-ssh-tunnel/"&gt;Proxy Using SSH Tunnel&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.revsys.com/writings/quicktips/ssh-tunnel.html"&gt;Quick-Tip: SSH Tunneling Made Easy&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://agent-jay.github.io/2018/03/jupyterserver/"&gt;Setting up a Jupyter Lab remote server&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://superuser.com/questions/303251/how-to-check-if-a-socks5-proxy-works"&gt;How to check if a Socks5 proxy works&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="Software"></category><category term="software"></category><category term="SSH tunnel"></category><category term="socks proxy"></category><category term="reverse"></category><category term="SSH"></category></entry><entry><title>Operate Remote Servers Using SSH</title><link href="https://www.legendu.net/en/blog/ssh-tips/" rel="alternate"></link><published>2013-10-22T11:03:15-07:00</published><updated>2023-07-13T00:51:20-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2013-10-22:/en/blog/ssh-tips/</id><summary type="html">&lt;h2 id="general-tips-and-traps"&gt;General Tips and Traps&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The permissions of the directory &lt;code&gt;~/.ssh&lt;/code&gt; and its subcontents
    on &lt;strong&gt;both the local machine and the remote server&lt;/strong&gt; must be properly set 
    in order for SSH login via public key to work.
    A good pratice is to set the permission of &lt;code&gt;~/.ssh&lt;/code&gt; to &lt;code&gt;700&lt;/code&gt; (on both …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;h2 id="general-tips-and-traps"&gt;General Tips and Traps&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The permissions of the directory &lt;code&gt;~/.ssh&lt;/code&gt; and its subcontents
    on &lt;strong&gt;both the local machine and the remote server&lt;/strong&gt; must be properly set 
    in order for SSH login via public key to work.
    A good pratice is to set the permission of &lt;code&gt;~/.ssh&lt;/code&gt; to &lt;code&gt;700&lt;/code&gt; (on both the local machine and the rmeote server)
    and set permissions of files under &lt;code&gt;~/.ssh&lt;/code&gt; to  &lt;code&gt;600&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SSH automatically maintains and checks a database containing identification 
    for all hosts it has ever been used with. 
    Host keys are stored in &lt;code&gt;~/.ssh/known_hosts&lt;/code&gt; in the user's home directory. 
    Additionally, 
    the file &lt;code&gt;/etc/ssh/ssh_known_hosts&lt;/code&gt; is automatically checked for known hosts. 
    Any new hosts are automatically added to the user's file. 
    If a host's identification ever changes, 
    SSH warns about this and disables password authentication 
    to prevent server spoofing or man-in-the-middle attacks, 
    which could otherwise be used to circumvent the encryption. 
    The option &lt;code&gt;-o StrictHostKeyChecking=no&lt;/code&gt; can be used to turn off strict host key checking
    (on both new host keys and changed host keys).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ssh&lt;span class="w"&gt; &lt;/span&gt;-o&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;StrictHostKeyChecking&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;no&lt;span class="w"&gt; &lt;/span&gt;your_server
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;You can also turn of strickt host key checking permanently by adding the following line into &lt;code&gt;~/.ssh/config&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;StrictHostKeyChecking no
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This is helpful for automation when you are in a safe environment (e.g., private VPN). 
However, 
be aware of the risk and avoid using it in public environment.
For more details, 
please refer to
&lt;a href="https://linux.die.net/man/1/ssh"&gt;ssh(1) - Linux man page&lt;/a&gt;
and
&lt;a href="http://bencane.com/2013/07/22/ssh-disable-host-checking-for-scripts-automation/"&gt;SSH: Disable Host Checking for Scripts &amp;amp; Automation&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use the option &lt;code&gt;-o ProxyCommand='ssh proxy_server -W %h:%p'&lt;/code&gt; 
    to SSH into a machine via a proxy server.
    Below is an illustration.
    For more details,
    please refer to
    &lt;a href="https://en.wikibooks.org/wiki/OpenSSH/Cookbook/Proxies_and_Jump_Hosts"&gt;SSH Proxies and Jump Hosts&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ssh&lt;span class="w"&gt; &lt;/span&gt;-o&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;ProxyCommand&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ssh proxy_server -W %h:%p&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;target_server
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When using &lt;code&gt;sshfs&lt;/code&gt; and &lt;code&gt;fuse&lt;/code&gt;, 
    make sure to add your user account into the &lt;code&gt;fuse&lt;/code&gt; group.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;gpasswd&lt;span class="w"&gt; &lt;/span&gt;-a&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;id&lt;span class="w"&gt; &lt;/span&gt;-un&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;fuse
newgrp&lt;span class="w"&gt; &lt;/span&gt;fuse
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It is suggested that you do not set any password for your SSH keys. 
    First, setting passwords for SSH keys defeats the purpose of using SSH keys.
    Seconds, 
    settings passwords for SSH keys might causes problems to other applicatons 
    (e.g., keyring management, cron jobs, duplicity, etc.) rely on SSH.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use SSH to run commands on a remote server in non-interactive mode.
    For example, 
    the following command logs into a server named &lt;code&gt;vm1.example.com&lt;/code&gt; using SSH 
    and then use &lt;code&gt;rsync&lt;/code&gt; to synchronize the directory &lt;code&gt;/workdir/&lt;/code&gt; on the server &lt;code&gt;vm2.example.com&lt;/code&gt;
    to the directory &lt;code&gt;/workdir/&lt;/code&gt; on the server &lt;code&gt;vm1.example.com&lt;/code&gt; (which is the local machine of &lt;code&gt;rsync&lt;/code&gt;).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ssh&lt;span class="w"&gt; &lt;/span&gt;vm1.example.com&lt;span class="w"&gt; &lt;/span&gt;rsync&lt;span class="w"&gt; &lt;/span&gt;-avh&lt;span class="w"&gt; &lt;/span&gt;--info&lt;span class="o"&gt;=&lt;/span&gt;progress2&lt;span class="w"&gt; &lt;/span&gt;--delete&lt;span class="w"&gt; &lt;/span&gt;vm2.example.com:/workdir/&lt;span class="w"&gt; &lt;/span&gt;/workdir/&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;backup.log&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;backup.err
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="multiplexing-controlmaster"&gt;Multiplexing / ControlMaster&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;ControlMaster auto&lt;/code&gt; option can be used to allow SSH reuse an existing connection.
    The &lt;code&gt;ControlPersist yes&lt;/code&gt; option goes one step further to persist a connection once it's established.
    This means that there will essentially be one long-term SSH connection to each host. 
    Those 2 options together is a very good way to avoid frequently SSH logins 
    especially when you have to rely on bastion servers to login (e.g., in an Enterprise environment).
    Notice that you must also specify a &lt;code&gt;ControlPath&lt;/code&gt; 
    if you use &lt;code&gt;ControlMaster&lt;/code&gt;.
    For more discussions, 
    please refer to
    &lt;a href="https://www.cyberciti.biz/faq/linux-unix-reuse-openssh-connection/"&gt;How To Reuse SSH Connection To Speed Up Remote Login Process Using Multiplexing&lt;/a&gt;
    .&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Host *
# ControlMaster: persist connections for reuse
    ControlPath ~/.ssh/control/%r@%h:%p
    ControlMaster auto
    ControlPersist yes
#
    SendEnv LANG LC_*
    HashKnownHosts yes
    GSSAPIAuthentication yes
    GSSAPIDelegateCredentials no
# make connection alive
    ServerAliveInterval 10
    ServerAliveCountMax 3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There are some potential drawbacks with &lt;code&gt;ControlMaster&lt;/code&gt; turned on though. 
    It is mainly due to limited bandwidth.
    This is, generally speaking, not really an issue 
    unless you transfer huge amount of data over SSH.
    For more discussions,
    please refer to
    &lt;a href="https://www.anchor.com.au/blog/2010/02/ssh-controlmaster-the-good-the-bad-the-ugly/"&gt;SSH ControlMaster: The Good, The Bad, The Ugly&lt;/a&gt;
    .&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://www.cyberciti.biz/faq/linux-unix-reuse-openssh-connection/"&gt;How To Reuse SSH Connection To Speed Up Remote Login Process Using Multiplexing&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.anchor.com.au/blog/2010/02/ssh-controlmaster-the-good-the-bad-the-ugly/"&gt;SSH ControlMaster: The Good, The Bad, The Ugly&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;https://en.wikibooks.org/wiki/OpenSSH/Cookbook/Proxies_and_Jump_Hosts&lt;/p&gt;
&lt;p&gt;https://www.cyberciti.biz/faq/linux-unix-ssh-proxycommand-passing-through-one-host-gateway-server/&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/22635613/what-is-the-difference-between-ssh-proxycommand-w-nc-exec-nc&lt;/p&gt;</content><category term="Software"></category><category term="tips"></category><category term="SSH"></category><category term="software"></category><category term="remote"></category><category term="Linux"></category><category term="ControlMaster"></category><category term="ControlPersist"></category><category term="ProxyCommand"></category><category term="ControlPath"></category></entry><entry><title>Manage Docker Images and Containers</title><link href="https://www.legendu.net/en/blog/docker-image-and-container-management/" rel="alternate"></link><published>2017-03-15T10:29:33-07:00</published><updated>2023-06-27T23:47:30-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-03-15:/en/blog/docker-image-and-container-management/</id><summary type="html">&lt;ol&gt;
&lt;li&gt;It is suggested that you use &lt;a href="https://osquery.io/"&gt;osquery&lt;/a&gt;
    or &lt;a href="https://github.com/legendu-net/dockeree"&gt;dockeree&lt;/a&gt;
    to query Docker images, containers, etc.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="remove-containers"&gt;Remove Containers&lt;/h2&gt;
&lt;p&gt;Note that running containers will NOT be removed by default.
This is what users want generally speaking. 
You can use the option &lt;code&gt;-f&lt;/code&gt; to force removing running containers,
but use it with caution …&lt;/p&gt;</summary><content type="html">&lt;ol&gt;
&lt;li&gt;It is suggested that you use &lt;a href="https://osquery.io/"&gt;osquery&lt;/a&gt;
    or &lt;a href="https://github.com/legendu-net/dockeree"&gt;dockeree&lt;/a&gt;
    to query Docker images, containers, etc.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="remove-containers"&gt;Remove Containers&lt;/h2&gt;
&lt;p&gt;Note that running containers will NOT be removed by default.
This is what users want generally speaking. 
You can use the option &lt;code&gt;-f&lt;/code&gt; to force removing running containers,
but use it with caution and at your own risk.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Remove all existing containers (not images).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker&lt;span class="w"&gt; &lt;/span&gt;rm&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;docker&lt;span class="w"&gt; &lt;/span&gt;ps&lt;span class="w"&gt; &lt;/span&gt;-aq&lt;span class="k"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# or you can use pipe&lt;/span&gt;
docker&lt;span class="w"&gt; &lt;/span&gt;ps&lt;span class="w"&gt; &lt;/span&gt;-aq&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;xargs&lt;span class="w"&gt; &lt;/span&gt;docker&lt;span class="w"&gt; &lt;/span&gt;rm
&lt;span class="c1"&gt;# or you can osquery&lt;/span&gt;
osqueryi&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;select id from docker_containers&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;--list&lt;span class="w"&gt; &lt;/span&gt;--header&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;xargs&lt;span class="w"&gt; &lt;/span&gt;docker&lt;span class="w"&gt; &lt;/span&gt;rm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Remove exited containers.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker&lt;span class="w"&gt; &lt;/span&gt;ps&lt;span class="w"&gt; &lt;/span&gt;-aqf&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;status&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;exited&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;xargs&lt;span class="w"&gt; &lt;/span&gt;docker&lt;span class="w"&gt; &lt;/span&gt;rm
osqueryi&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;select id from docker_containers where state=exited&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;--list&lt;span class="w"&gt; &lt;/span&gt;--header&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;xargs&lt;span class="w"&gt; &lt;/span&gt;docker&lt;span class="w"&gt; &lt;/span&gt;rm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="remove-images"&gt;Remove Images&lt;/h2&gt;
&lt;p&gt;Note that images required by running containers will NOT be removed by default.
This is what users want generally speaking. 
You can use the option &lt;code&gt;-f&lt;/code&gt; to force removing images,
but use it with caution and at your own risk.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Remove images without names (with the help of &lt;code&gt;awk&lt;/code&gt;).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker&lt;span class="w"&gt; &lt;/span&gt;images&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;awk&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{ if ($1 == &amp;quot;&amp;lt;none&amp;gt;&amp;quot;) print $3 }&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;xargs&lt;span class="w"&gt; &lt;/span&gt;docker&lt;span class="w"&gt; &lt;/span&gt;rmi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Remove images without versions (with the help of &lt;code&gt;awk&lt;/code&gt;).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker&lt;span class="w"&gt; &lt;/span&gt;images&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;awk&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{ if ($2 == &amp;quot;&amp;lt;none&amp;gt;&amp;quot;) print $3 }&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;xargs&lt;span class="w"&gt; &lt;/span&gt;docker&lt;span class="w"&gt; &lt;/span&gt;rmi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Remove images without names or versions (with the help of &lt;code&gt;awk&lt;/code&gt;).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker&lt;span class="w"&gt; &lt;/span&gt;images&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;awk&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{ if ($1 == &amp;quot;&amp;lt;none&amp;gt;&amp;quot; || $2 == &amp;quot;&amp;lt;none&amp;gt;&amp;quot;) print $3 }&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;xargs&lt;span class="w"&gt; &lt;/span&gt;docker&lt;span class="w"&gt; &lt;/span&gt;rmi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Remove images without names or versions (with the help of &lt;code&gt;osquery&lt;/code&gt;).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;osqueryi&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;select id from docker_images where tags = &amp;#39;&amp;#39;&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;--list&lt;span class="w"&gt; &lt;/span&gt;--header&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;xargs&lt;span class="w"&gt; &lt;/span&gt;docker&lt;span class="w"&gt; &lt;/span&gt;rmi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Remove all images belong to the eclipse organization with the help of &lt;code&gt;sed&lt;/code&gt; and &lt;code&gt;q&lt;/code&gt;. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker&lt;span class="w"&gt; &lt;/span&gt;images&lt;span class="w"&gt; &lt;/span&gt;sed&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;s/ \+/\t/g&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;q&lt;span class="w"&gt; &lt;/span&gt;-tH&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;select [image id] from - where repository like &amp;#39;eclipse/%&amp;#39;&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;xargs&lt;span class="w"&gt; &lt;/span&gt;docker&lt;span class="w"&gt; &lt;/span&gt;rmi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Remove all images belong to the eclipse organization with the help of &lt;code&gt;osquery&lt;/code&gt;. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;osqueryi&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;select id from docker_images where tags like &amp;#39;eclipse/%&amp;#39;&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;--list&lt;span class="w"&gt; &lt;/span&gt;--header&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;xargs&lt;span class="w"&gt; &lt;/span&gt;docker&lt;span class="w"&gt; &lt;/span&gt;rmi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can force removing an image with the &lt;code&gt;--force&lt;/code&gt; option.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker&lt;span class="w"&gt; &lt;/span&gt;rmi&lt;span class="w"&gt; &lt;/span&gt;ubuntu&lt;span class="w"&gt; &lt;/span&gt;--force
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you have multiple tags on the same docker image, 
    you cannot remove the docker image by image id (without using &lt;code&gt;--force&lt;/code&gt;.)
    One way (without using &lt;code&gt;--force&lt;/code&gt;) is to specify the tag name to remove.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="get-container-id-inside-container"&gt;Get Container ID Inside Container&lt;/h2&gt;
&lt;p&gt;You can get the container ID inside the docker container 
by running the following command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;cat&lt;span class="w"&gt; &lt;/span&gt;/proc/self/cgroup&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;grep&lt;span class="w"&gt; &lt;/span&gt;-o&lt;span class="w"&gt;  &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;docker-.*.scope&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;head&lt;span class="w"&gt; &lt;/span&gt;-n&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;sed&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;s/docker-\(.*\).scope/\\1/&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Or another simpler way is to run&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nb"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$HOSTNAME&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;But it will not work in the following two cases. &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;if hostname is explicitly specified with &lt;code&gt;--hostname&lt;/code&gt; flag. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;when using &lt;code&gt;--net=host&lt;/code&gt; mode.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="importexport-docker-containerimages"&gt;Import/Export Docker Container/Images&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://blog.giantswarm.io/moving-docker-container-images-around/"&gt;Moving Docker Containers and Images Around&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Save a docker image to a tar.gz file.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker&lt;span class="w"&gt; &lt;/span&gt;save&lt;span class="w"&gt; &lt;/span&gt;image&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;gzip&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;image.tar.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Load a docker image from tar file.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker&lt;span class="w"&gt; &lt;/span&gt;load&lt;span class="w"&gt; &lt;/span&gt;&amp;lt;&lt;span class="w"&gt; &lt;/span&gt;image.tar
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="kill-a-process-in-a-container"&gt;Kill a Process in a Container&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;exec&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;container_name&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;kill&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;process_name
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id="volume"&gt;Volume&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;You can mount both a file and a directory into a Docker container. 
    However, 
    ALWAYS use absolutely paths for mounting (using the option &lt;code&gt;-v&lt;/code&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ALWAYS create a directory in the Docker container first
    before you mount a volume into it.
    If the directory (to mount into) in the Docker container does not exists,
    it will be created automatically by the root user
    (unless you specified a different user to run the Docker container).
    The newly created directory is owned by the root,
    which might not be as expected.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;AVOID mounting a volume into your home directory in the Docker container.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;You might screw up the permission of your home directory in the Docker container.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you mount your home on the host into your home in the Docker container,
    you might accidentally overwrite things in your home directory on the host.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It is recommend that you always mount a volume to &lt;code&gt;/some_dir&lt;/code&gt; and then link to home if needed.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you mount a volume from the host to a Docker container,
    make sure that you have the right permissions to the directory on the host,
    o.w., you might run into various issues (such as the Docker container fails to start).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You following instructions in 
        &lt;a href="https://stackoverflow.com/questions/30642844/how-to-list-docker-mounted-volumes-from-within-the-container"&gt;this discussion&lt;/a&gt;
    to list mounted volumens.
    Another way is to use &lt;a href="https://osquery.io/"&gt;osquery&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="overwrite-entrypoint"&gt;Overwrite Entrypoint&lt;/h2&gt;
&lt;p&gt;Please refer to 
&lt;a href="http://www.legendu.net/misc/blog/overwrite-entrypoint-in-docker"&gt;Overwrite Entrypoint in Docker&lt;/a&gt;
for detailed discussions.&lt;/p&gt;
&lt;h2 id="permission"&gt;Permission&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;It is suggested that you have your user name added into the &lt;code&gt;docker&lt;/code&gt; group
    so that you can run Docker commands without using &lt;code&gt;sudo&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Inside a Docker container,
    files created belong to the user in the Docker container.
    If the files are created in a mounted host directory,
    then on the host these files belong to the user with the same user ID.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="port"&gt;Port&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Do NOT forget to forward ports from the host to the Docker containers
    while using docker containers.
    For example,
    if you run a Flask application in a Docker,
    you have to forward a port on the host to the port 5000 in the Docker container.
    If you run multiple services in a Docker container (not recommended),
    you have to forward all needed ports into the Docker container.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="sharing-files"&gt;Sharing Files&lt;/h2&gt;
&lt;p&gt;Copying file between a docker container and the host.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker&lt;span class="w"&gt; &lt;/span&gt;cp&lt;span class="w"&gt; &lt;/span&gt;foo.txt&lt;span class="w"&gt; &lt;/span&gt;mycontainer:/foo.txt
docker&lt;span class="w"&gt; &lt;/span&gt;cp&lt;span class="w"&gt; &lt;/span&gt;mycontainer:/foo.txt&lt;span class="w"&gt; &lt;/span&gt;foo.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id="run-docker-containers-in-a-docker-container"&gt;Run Docker Containers in a Docker Container&lt;/h2&gt;
&lt;p&gt;Please refer to
&lt;a href="http://www.legendu.net/en/blog/run-docker-containers-inside-a-docker-container"&gt;Run Docker Containers Inside a Docker Container&lt;/a&gt;
for more detailed discussions.&lt;/p&gt;
&lt;h2 id="misc"&gt;Misc&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;By default log in a Docker container is redirected to the standard output.
    However,
    you won't be able to see the log if you start the Docker container as a deamon (using the &lt;code&gt;-d&lt;/code&gt; option).
    For debugging purposes,
    it is suggested that you use the &lt;code&gt;-it&lt;/code&gt; options instead the &lt;code&gt;-d&lt;/code&gt; option.
    A more general and robust way is of course to redirect log of applications to a file.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Multiple running instances of the same Docker image
    do not interact with each other.
    The are running isolated.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Amazon AWS is blocked in China (currently).
    Do NOT run Docker services on Amazon if your users are in the mainland of China.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="issues-solutions"&gt;Issues &amp;amp; Solutions&lt;/h2&gt;
&lt;h3 id="issueerror-1"&gt;Issue/Error 1&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;docker: Error response from daemon: Get https://registry-1.docker.io/v2/dclong/jupyterlab-rstudio/manifests/latest: dial tcp 50.17.62.194:443: getsockopt: connection refused&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;First retry starting the Docker container.
If it still does not work
then restart the Docker daemon using the command below will resolve the issue.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;service&lt;span class="w"&gt; &lt;/span&gt;docker&lt;span class="w"&gt; &lt;/span&gt;restart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id="issueerror-2"&gt;Issue/Error 2&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Jupyter notebook connection failed&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Due to proxy!!! Connect without proxy works!!!&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/31280465/ipython-notebook-connection-failed-issue&lt;/p&gt;
&lt;h3 id="issueerror-3"&gt;Issue/Error 3&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Docker Error: Returned a Non-zero Code: 137&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This issue is due to out of memory error.
To fix it,
you can either add more RAM or add more swap memory.&lt;/p&gt;
&lt;p&gt;https://samwize.com/2016/05/19/docker-error-returned-a-non-zero-code-137/&lt;/p&gt;
&lt;h3 id="issueerror-4"&gt;Issue/Error 4&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock ... dial unix:///var/run/docker.sock: connect: permission denied &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Please refer to
&lt;a href="https://phoenixnap.com/kb/docker-permission-denied"&gt;How to Fix Docker Permission Denied?&lt;/a&gt;
for possible solutions.&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://phoenixnap.com/kb/docker-permission-denied"&gt;How to Fix Docker Permission Denied?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="Software"></category><category term="software"></category><category term="Docker"></category><category term="Docker image"></category><category term="container"></category><category term="management"></category><category term="remove"></category></entry><entry><title>Docker in WSL 2</title><link href="https://www.legendu.net/en/blog/docker-in-WSL2/" rel="alternate"></link><published>2017-08-10T09:05:45-07:00</published><updated>2022-08-07T19:47:58-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-08-10:/en/blog/docker-in-WSL2/</id><summary type="html">&lt;h2 id="tips-and-traps"&gt;Tips and Traps&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Docker on WSL 2 works great.
    However,
    the performance of IO is extremely bad if it access the Windows filesystem.
    For more discussions,
    please refer to
    &lt;a href="https://www.legendu.net/en/blog/wsl-2-filesystem/"&gt;WSL 2 Filesystem&lt;/a&gt;
    .&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Docker containers launched from a WSL (e.g., Ubuntu) shell will continue to run 
    after the WSL shell …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;h2 id="tips-and-traps"&gt;Tips and Traps&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Docker on WSL 2 works great.
    However,
    the performance of IO is extremely bad if it access the Windows filesystem.
    For more discussions,
    please refer to
    &lt;a href="https://www.legendu.net/en/blog/wsl-2-filesystem/"&gt;WSL 2 Filesystem&lt;/a&gt;
    .&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Docker containers launched from a WSL (e.g., Ubuntu) shell will continue to run 
    after the WSL shell is terminated,
    as long as the Docker daemon is alive. 
    As a matter of fact,
    a WSL 2 shell is not must to start the Docker daemon (back by WSL 2) or to launch Docker containers.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="install-docker-in-wsl-2"&gt;Install Docker in WSL 2&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Install WSL 2 following instructions in 
    &lt;a href="http://www.legendu.net/misc/blog/wsl-tips/"&gt;Tips on WSL 2&lt;/a&gt;
    .&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install &lt;code&gt;docker.io&lt;/code&gt; in WSL 2. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;apt-get&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;docker.io
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install Docker desktop for Windows.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Set Docker to use WSL 2 based engine. &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Open Docker desktop settings.&lt;/li&gt;
&lt;li&gt;Check the checkbox "Use the WSL 2 based engine" in the general tab.&lt;/li&gt;
&lt;li&gt;Click "Apply &amp;amp; Restart".&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="docker-wsl2-engine" src="https://docs.docker.com/desktop/windows/images/wsl2-enable.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;For more details,
please refer to
&lt;a href="https://docs.docker.com/docker-for-windows/wsl/"&gt;Docker Desktop WSL 2 backend&lt;/a&gt;
.&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.legendu.net/misc/blog/wsl-tips/"&gt;Tips on WSL 2&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://towardsdatascience.com/how-to-improve-docker-performance-with-wsl2-3a54402ab0f2"&gt;How to Boost Docker with WSL2&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;https://towardsdatascience.com/dual-boot-is-dead-windows-and-linux-are-now-one-27555902a128&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="Software"></category><category term="software"></category><category term="Docker"></category><category term="WSL"></category><category term="WSL 2"></category><category term="Windows"></category><category term="Bash"></category><category term="BashOnWindows"></category><category term="Bash on Windows"></category></entry><entry><title>Convert PDF to EPS</title><link href="https://www.legendu.net/en/blog/convert-pdf-to-eps/" rel="alternate"></link><published>2012-11-21T16:30:01-08:00</published><updated>2021-12-03T09:25:59-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2012-11-21:/en/blog/convert-pdf-to-eps/</id><content type="html">&lt;p&gt;There are tons of tools for converting PDF pictures to EPS pictures in Linux. 
The &lt;code&gt;pdf2ps&lt;/code&gt; command is a good one.
It produces EPS pictures without losing much resolution. 
The general purpose tools &lt;code&gt;convert&lt;/code&gt; 
(from the &lt;code&gt;ImageMagick&lt;/code&gt; package) does not produce as good quality EPS figures.&lt;/p&gt;</content><category term="Software"></category><category term="Image"></category><category term="eps"></category><category term="Linux"></category><category term="PDF"></category><category term="software"></category><category term="Graphics"></category></entry><entry><title>Schedule Cron Tasks in a Docker Container</title><link href="https://www.legendu.net/en/blog/schedule-cron-tasks-in-a-docker-container/" rel="alternate"></link><published>2019-08-01T09:40:48-07:00</published><updated>2021-11-22T10:39:22-08:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-08-01:/en/blog/schedule-cron-tasks-in-a-docker-container/</id><summary type="html">&lt;p&gt;Cron tasks work in a Docker container. 
However,
you have to manually start the cron deamon (root or sudo required) using &lt;code&gt;cron&lt;/code&gt; or &lt;code&gt;sudo cron&lt;/code&gt; 
if it is not configured (via the Docker entrypoint) to start on the start of the Docker container.
For tutorials on crontab, 
please refer to …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Cron tasks work in a Docker container. 
However,
you have to manually start the cron deamon (root or sudo required) using &lt;code&gt;cron&lt;/code&gt; or &lt;code&gt;sudo cron&lt;/code&gt; 
if it is not configured (via the Docker entrypoint) to start on the start of the Docker container.
For tutorials on crontab, 
please refer to the post
&lt;a href="http://www.legendu.net/en/blog/schedule-task-using-crontab-in-linux"&gt;Schedule Task Using Cron in Linux&lt;/a&gt;
.&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.legendu.net/en/blog/schedule-task-using-crontab-in-linux"&gt;Schedule Task Using Cron in Linux&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="Software"></category><category term="software"></category><category term="Docker"></category><category term="crontab"></category><category term="cron"></category><category term="deamon"></category><category term="container"></category></entry><entry><title>Synchronize Files Using Dropbox</title><link href="https://www.legendu.net/en/blog/dropbox-tips/" rel="alternate"></link><published>2013-10-22T13:36:17-07:00</published><updated>2021-09-26T21:58:30-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2013-10-22:/en/blog/dropbox-tips/</id><summary type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Dropbox won't sync files that you don't have read permissions.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You'd better not merge an old Dropbox folder while installing/configuring Dropbox.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You'd better not store symbolic links in the Dropbox folder,
    because the symbolic links will be replaced by the real files/folders 
    when synchronized to other computers.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Dropbox won't sync files that you don't have read permissions.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You'd better not merge an old Dropbox folder while installing/configuring Dropbox.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You'd better not store symbolic links in the Dropbox folder,
    because the symbolic links will be replaced by the real files/folders 
    when synchronized to other computers.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It is not a good idea to put a Git repository into Dropbox.
    First, 
    a Git repository usually contains lots of small files 
    which downgrades the performance of Dropbox.
    Second, 
    it is better to push a Git repository to GitHub, GitLab, etc.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;https://www.addictivetips.com/ubuntu-linux-tips/enable-dropbox-support-in-dolphin-file-manager/&lt;/li&gt;
&lt;/ul&gt;</content><category term="Software"></category><category term="tips"></category><category term="Dropbox"></category><category term="synchronizaion"></category><category term="backup"></category><category term="cloud"></category><category term="sync"></category></entry><entry><title>Comparision of Linux Emulation Solutions on Windows</title><link href="https://www.legendu.net/en/blog/comparision-of-linux-emulation-solutions-on-windows/" rel="alternate"></link><published>2014-06-13T22:21:09-07:00</published><updated>2021-09-26T21:57:22-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2014-06-13:/en/blog/comparision-of-linux-emulation-solutions-on-windows/</id><summary type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Virtual machine based on Virtualbox, etc. is an overkill, 
    generally speaking.
    It provides complete functionalities 
    but is more CPU and memory hangry.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;WSL 2 is the currently the best solution comes with Windows 10+.
    It is essentially a virtual machine but based on Hyper-V.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cygwin, MobaXterm, etc. are outdated 
    as …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Virtual machine based on Virtualbox, etc. is an overkill, 
    generally speaking.
    It provides complete functionalities 
    but is more CPU and memory hangry.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;WSL 2 is the currently the best solution comes with Windows 10+.
    It is essentially a virtual machine but based on Hyper-V.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cygwin, MobaXterm, etc. are outdated 
    as WSL 2 is an integrated solution in Windows 10+.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href="https://copy.sh/v86/"&gt;x86 Virtualization in Browser&lt;/a&gt;&lt;/p&gt;</content><category term="Software"></category><category term="Virtual Machine"></category><category term="Cygwin"></category><category term="MobaXterm"></category><category term="VirtualBox"></category><category term="Linux Emulation"></category></entry><entry><title>Resolve the DNS Contamination Issue in Firefox</title><link href="https://www.legendu.net/en/blog/resolve-the-dns-contamination-issue-in-firefox/" rel="alternate"></link><published>2018-09-11T01:11:28-07:00</published><updated>2021-09-26T21:54:44-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2018-09-11:/en/blog/resolve-the-dns-contamination-issue-in-firefox/</id><summary type="html">&lt;p&gt;The local DNS you use in China is probably contaminated
and popular sites like Google, Facebook, etc. are not interpreted correctly.
So if you are in China and use Firefox with Proxy,
make sure to set &lt;code&gt;network.proxy.socks_remote_dns&lt;/code&gt; to be true (follow steps below).&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Open an empty tab in …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;The local DNS you use in China is probably contaminated
and popular sites like Google, Facebook, etc. are not interpreted correctly.
So if you are in China and use Firefox with Proxy,
make sure to set &lt;code&gt;network.proxy.socks_remote_dns&lt;/code&gt; to be true (follow steps below).&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Open an empty tab in Firefox.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Go to about:config in the URL bar.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Search for &lt;code&gt;network.proxy.socks_remote_dns&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Change the value to be &lt;code&gt;true&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="Software"></category><category term="software"></category><category term="Firefox"></category><category term="proxy"></category><category term="DNS contamination"></category><category term="socks"></category></entry><entry><title>Synchronization and Backup Solutions</title><link href="https://www.legendu.net/en/blog/synchronization-and-backup-solutions/" rel="alternate"></link><published>2014-03-04T22:11:05-08:00</published><updated>2021-09-24T12:14:58-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2014-03-04:/en/blog/synchronization-and-backup-solutions/</id><summary type="html">&lt;h2 id="tips-and-traps"&gt;Tips and Traps&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Almost all sychronization tools have problems with symbolic links.
    Most of them just ignore symbolic links.
    This makes sense as following symbolic links can causes serious disk problems.
    If not followed then symbolic links are likely broken on other device.
    The simple suggestion is do not place …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;h2 id="tips-and-traps"&gt;Tips and Traps&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Almost all sychronization tools have problems with symbolic links.
    Most of them just ignore symbolic links.
    This makes sense as following symbolic links can causes serious disk problems.
    If not followed then symbolic links are likely broken on other device.
    The simple suggestion is do not place symbolic links in your synchronization folders.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Backup (relatively) small files to Dropbox (or a similar tool),
  and Backup large non-privacy files on Baidu Yun.
  If a large file is sensitive, 
  encrypt it first before uploding it to Baidu Yun.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;table style="width:100%"&gt;
  &lt;tr&gt;
    &lt;th&gt; Name &lt;/th&gt;
    &lt;th&gt; Opensource/free &lt;/th&gt;
    &lt;th&gt; OS &lt;/th&gt;
    &lt;th&gt; GUI/CLI &lt;/th&gt;
    &lt;th&gt; Sync/Backup &lt;/th&gt;
    &lt;th&gt; Directly Accessible from Mainland of China &lt;/th&gt;
    &lt;th&gt; Comments &lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://www.dropbox.com/"&gt; Dropbox &lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; free for 3 devices and 2G space  &lt;/td&gt;
    &lt;td&gt; Windows, macOS, Linux &lt;/td&gt;
    &lt;td&gt; GUI &lt;/td&gt;
    &lt;td&gt; Sync &lt;/td&gt;
    &lt;td&gt; No &lt;/td&gt;
    &lt;td&gt; 
    1. Best solution for small data backup 
    2. every thing is in the same folder, no way to sync a folder with higher priority over others
        while you can do this with TeamDrive or BTSync
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://pan.baidu.com/disk/home"&gt; Baidu Net Disk &lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; free for 2T space and limited download speed  &lt;/td&gt;
    &lt;td&gt; Windows, macOS, Linux &lt;/td&gt;
    &lt;td&gt; GUI &lt;/td&gt;
    &lt;td&gt; Sync &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; 
    Best solution for large data backup
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://synqion.com/"&gt; Synqion (TeamDrive) &lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; free for 2G space &lt;/td&gt;
    &lt;td&gt; Windows, macOS, Linux &lt;/td&gt;
    &lt;td&gt; GUI &lt;/td&gt;
    &lt;td&gt; Sync &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; 
    1. Best solution for small data backup 
    1. extremely secure, good for private, sensitive docs
    3. separated spaces which is much better than dropbox
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://syncthing.net/"&gt; Syncthing &lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; free &lt;/td&gt;
    &lt;td&gt; Windows, macOS, Linux &lt;/td&gt;
    &lt;td&gt; Both &lt;/td&gt;
    &lt;td&gt; Sync &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; 
    1. extremely secure, good for private, sensitive docs
    2. good performance on large files but poor performance on small files
    3. Best solution for private personal backup 
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://www.google.com/drive/"&gt; Google Drive &lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; free for 15G space &lt;/td&gt;
    &lt;td&gt; Windows, macOS &lt;/td&gt;
    &lt;td&gt; GUI &lt;/td&gt;
    &lt;td&gt; Sync &lt;/td&gt;
    &lt;td&gt; No &lt;/td&gt;
    &lt;td&gt; 
    1. good for backing up Google products
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://www.microsoft.com/en-us/microsoft-365/onedrive/online-cloud-storage"&gt; OneDrive &lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; free for 15G space &lt;/td&gt;
    &lt;td&gt; Windows, macOS &lt;/td&gt;
    &lt;td&gt; GUI &lt;/td&gt;
    &lt;td&gt; Sync &lt;/td&gt;
    &lt;td&gt; No &lt;/td&gt;
    &lt;td&gt; 
    1. good for backing up MS products
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a&gt; NAS / NFS &lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; free &lt;/td&gt;
    &lt;td&gt; Windows, macOS, Linux &lt;/td&gt;
    &lt;td&gt; Both &lt;/td&gt;
    &lt;td&gt; network file system &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; 
    1. easy to use
    2. provided to employees by many companies
    3. relatively low performance
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://mutagen.io/"&gt; Mutagen &lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; Opensource &lt;/td&gt;
    &lt;td&gt; Windows, macOS, Linux &lt;/td&gt;
    &lt;td&gt; CLI &lt;/td&gt;
    &lt;td&gt; sync &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; 
    1. fast file synchronization;
    2. network forwarding 
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://github.com/bcpierce00/unison"&gt; Unison &lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; Opensource &lt;/td&gt;
    &lt;td&gt; Windows, macOS, Linux &lt;/td&gt;
    &lt;td&gt; CLI &lt;/td&gt;
    &lt;td&gt; 2-way sync &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; 
    2-way sync, fault tolerance
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://github.com/deajan/osync"&gt; osync &lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; Opensource &lt;/td&gt;
    &lt;td&gt; Windows, macOS, Linux &lt;/td&gt;
    &lt;td&gt; CLI &lt;/td&gt;
    &lt;td&gt; 2-way sync &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; 
    2-way sync, rsync-based, fault tolerance
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://github.com/rsnapshot/rsnapshot"&gt; Rsnapshot &lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; free &lt;/td&gt;
    &lt;td&gt; Windows, macOS, Linux &lt;/td&gt;
    &lt;td&gt; CLI &lt;/td&gt;
    &lt;td&gt; Backup &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; 
    1. easy to use
    2. quick access
    3. copy on change which takes more disk space than incremental backup tools but it is much simpler to use and is very robust
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="http://www.nongnu.org/duplicity/"&gt; duplicity &lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; free &lt;/td&gt;
    &lt;td&gt; Windows, macOS, Linux &lt;/td&gt;
    &lt;td&gt; CLI &lt;/td&gt;
    &lt;td&gt; Backup &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; 
    1. incremental backup
    2. support encryption
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://github.com/backuppc/backuppc"&gt; backupPC &lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; free &lt;/td&gt;
    &lt;td&gt; Windows, macOS, Linux &lt;/td&gt;
    &lt;td&gt; ? &lt;/td&gt;
    &lt;td&gt; Backup &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; 
    high performance, enterprise-grade system
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; 
    &lt;a href="https://www.bacula.org/"&gt; Bacula &lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt; Opensource &lt;/td&gt;
    &lt;td&gt; Windows, macOS, Linux &lt;/td&gt;
    &lt;td&gt; ? &lt;/td&gt;
    &lt;td&gt; Backup &lt;/td&gt;
    &lt;td&gt; Yes &lt;/td&gt;
    &lt;td&gt; 
    enterprise-level computer backup system for heterogeneous networks 
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;

&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://xmodulo.com/synchronize-files-between-two-servers.html"&gt;How to synchronize files between two servers bidirectionally&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.csync.org/"&gt;csync&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="Software"></category><category term="software"></category><category term="synchronization"></category><category term="backup"></category><category term="Baidu Yun"></category><category term="Dropbox"></category><category term="TeamDrive"></category><category term="Syncthing"></category></entry><entry><title>Docker for Nvidia GPU</title><link href="https://www.legendu.net/en/blog/docker-for-nvidia-gpu/" rel="alternate"></link><published>2020-01-18T01:02:42-08:00</published><updated>2021-09-24T12:14:10-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2020-01-18:/en/blog/docker-for-nvidia-gpu/</id><summary type="html">&lt;h2 id="instruction-on-using-nvidia-gpu-cuda-for-computing-in-docker"&gt;Instruction on Using Nvidia GPU (CUDA) for Computing in Docker&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Install Nvidia &lt;code&gt;cuda-drivers&lt;/code&gt; (or equivalent) on your Linux machine
    following instructions at 
    &lt;a href="https://developer.nvidia.com/cuda-downloads?target_os=Linux"&gt;CUDA Downloads&lt;/a&gt;.
    Notice that instead of installing &lt;code&gt;cuda&lt;/code&gt; (using &lt;code&gt;sudo apt-get install cuda&lt;/code&gt;),
    it is suggested that you install &lt;code&gt;cuda-drivers&lt;/code&gt; only (using &lt;code&gt;sudo apt-get install cuda-drivers&lt;/code&gt;).
    This is …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;h2 id="instruction-on-using-nvidia-gpu-cuda-for-computing-in-docker"&gt;Instruction on Using Nvidia GPU (CUDA) for Computing in Docker&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Install Nvidia &lt;code&gt;cuda-drivers&lt;/code&gt; (or equivalent) on your Linux machine
    following instructions at 
    &lt;a href="https://developer.nvidia.com/cuda-downloads?target_os=Linux"&gt;CUDA Downloads&lt;/a&gt;.
    Notice that instead of installing &lt;code&gt;cuda&lt;/code&gt; (using &lt;code&gt;sudo apt-get install cuda&lt;/code&gt;),
    it is suggested that you install &lt;code&gt;cuda-drivers&lt;/code&gt; only (using &lt;code&gt;sudo apt-get install cuda-drivers&lt;/code&gt;).
    This is because the CUDA toolkit (the package &lt;code&gt;cuda&lt;/code&gt;) is not needed on your Linux host machine to 
    run GPU-enabled Docker container starting from Docker 19.03.
    Of course, 
    it doesn't hurt to install the package &lt;code&gt;cuda&lt;/code&gt; besides using more disk spaces.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Confirm that the CUDA drivers have been installed correctly. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;nvidia-smi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;If the command &lt;code&gt;nvidia-smi&lt;/code&gt; is available 
but raises the following error message, &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;NVIDAI-SMI has failed because it couldn't communicate with the NVIDIA driver.&lt;br&gt;
Make sure that the latest NVIDIA driver is installed and running.`&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;reboot your Linux machine and try again.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Make sure that you have Docker 19.03+ installed on your Linux machine.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install 
    &lt;a href="https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/install-guide.html#setting-up-nvidia-container-toolkit"&gt;nvidia-docker&lt;/a&gt; 
    on your Linux machine.
    For example,
    you can install it on the Debian-series of Linux distributions 
    (Debian, Ubuntu, Linux Mint, etc.)
    using the following comamnds.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;distribution&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;.&lt;span class="w"&gt; &lt;/span&gt;/etc/os-release&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$ID$VERSION_ID&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;
curl&lt;span class="w"&gt; &lt;/span&gt;-s&lt;span class="w"&gt; &lt;/span&gt;-L&lt;span class="w"&gt; &lt;/span&gt;https://nvidia.github.io/nvidia-docker/gpgkey&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;apt-key&lt;span class="w"&gt; &lt;/span&gt;add&lt;span class="w"&gt; &lt;/span&gt;-
curl&lt;span class="w"&gt; &lt;/span&gt;-s&lt;span class="w"&gt; &lt;/span&gt;-L&lt;span class="w"&gt; &lt;/span&gt;https://nvidia.github.io/nvidia-docker/&lt;span class="nv"&gt;$distribution&lt;/span&gt;/nvidia-docker.list&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;tee&lt;span class="w"&gt; &lt;/span&gt;/etc/apt/sources.list.d/nvidia-docker.list
sudo&lt;span class="w"&gt; &lt;/span&gt;apt-get&lt;span class="w"&gt; &lt;/span&gt;update&lt;span class="w"&gt; &lt;/span&gt;
sudo&lt;span class="w"&gt; &lt;/span&gt;apt-get&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;-y&lt;span class="w"&gt; &lt;/span&gt;nvidia-docker2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Restart Docker.
    You can use one of the following command 
    (depending on whether systemd is used to manage services).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;systemctl&lt;span class="w"&gt; &lt;/span&gt;restart&lt;span class="w"&gt; &lt;/span&gt;docker
&lt;span class="c1"&gt;# or &lt;/span&gt;
sudo&lt;span class="w"&gt; &lt;/span&gt;service&lt;span class="w"&gt; &lt;/span&gt;docker&lt;span class="w"&gt; &lt;/span&gt;restart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Test that GPU-enabled Docker containers can be run correctly.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker&lt;span class="w"&gt; &lt;/span&gt;run&lt;span class="w"&gt; &lt;/span&gt;--gpus&lt;span class="w"&gt; &lt;/span&gt;all&lt;span class="w"&gt; &lt;/span&gt;nvidia/cuda:10.2-base&lt;span class="w"&gt; &lt;/span&gt;nvidia-smi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Extend official Nvidia Docker images to customize your own Docker images for GPU applications if needed.
    &lt;a href="https://hub.docker.com/layers/nvidia/cuda"&gt;nvidia/cuda:10.1-cudnn7-runtime-ubuntu18.04&lt;/a&gt;
    is the best Docker image to extend, generally speaking.
    If you are using PyTorch (which has built-in CUDA and CUDNN),
    you can use &lt;a href="https://hub.docker.com/layers/nvidia/cuda"&gt;nvidia/cuda:10.1-base-ubuntu18.04&lt;/a&gt; to reduce the size of your Docker image.
    &lt;a href="https://github.com/floydhub/dockerfiles"&gt;floydhub/dockerfiles&lt;/a&gt;
    and
    &lt;a href="https://github.com/pytorch/pytorch/blob/master/docker/pytorch/Dockerfile"&gt;PyTorch Dockerfile&lt;/a&gt;
    are good examples to refer to.
    If you want to use Python packages that do not have built-in CUDA and CUDNN support, 
    you might have to install the library &lt;code&gt;cuda-10-1&lt;/code&gt; manually.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;apt-get&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;cuda-10-1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Run GPU applications in Docker containers. 
    Please refer to 
    &lt;a href="https://github.com/NVIDIA/nvidia-docker#usage"&gt;nvidia-docker#usage&lt;/a&gt; 
    for examples.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="general-tips-on-gpu"&gt;General Tips on GPU&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;You can list all GPU devices using the following command in Linux.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;lspci&lt;span class="w"&gt; &lt;/span&gt;-v&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;grep&lt;span class="w"&gt; &lt;/span&gt;VGA
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use the following command to query the live GPU usage on both Windows and Linux. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;nvidia-smi&lt;span class="w"&gt; &lt;/span&gt;--query-gpu&lt;span class="o"&gt;=&lt;/span&gt;timestamp,name,pci.bus_id,driver_version,pstate,pcie.link.gen.max,pcie.link.gen.current,temperature.gpu,utilization.gpu,utilization.memory,memory.total,memory.free,memory.used&lt;span class="w"&gt; &lt;/span&gt;--format&lt;span class="o"&gt;=&lt;/span&gt;csv&lt;span class="w"&gt; &lt;/span&gt;-l&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;5&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;For more discussions,
please refer to
&lt;a href="https://nvidia.custhelp.com/app/answers/detail/a_id/3751/~/useful-nvidia-smi-queries"&gt;Useful nvidia-smi Queries&lt;/a&gt;
and 
&lt;a href="http://www.legendu.net/misc/blog/visualize-Nvidia-GPU-usage"&gt;Visualize Nvidia GPU Usage&lt;/a&gt;
.
In additional,
you can use the command &lt;code&gt;nvtop&lt;/code&gt; to check the live usage of GPUs on Linux.
&lt;code&gt;nvtop&lt;/code&gt; is recommended 
as it presents simple visualizations in addition to the current usage statistics.
&lt;code&gt;nvtop&lt;/code&gt; can be install on Ubuntu using the following command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;apt-get&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;nvtop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="docker-imges"&gt;Docker Imges&lt;/h2&gt;
&lt;p&gt;Below are a few good examples of Docker images supporting Nvidia GPU.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/dclong/docker-jupyterhub-pytorch"&gt;dclong/docker-jupyterhub-pytorch&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://gitlab.com/nvidia/container-images/cuda/-/blob/master/dist/11.0/ubuntu20.04-x86_64/base/Dockerfile"&gt;nvidia/cuda:11.0-cudnn-base-ubuntu20.04&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://gitlab.com/nvidia/container-images/cuda/-/blob/master/dist/11.0/ubuntu20.04-x86_64/runtime/Dockerfile"&gt;nvidia/cuda:11.0-cudnn-runtime-ubuntu20.04&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://gitlab.com/nvidia/container-images/cuda/-/blob/master/dist/11.0/ubuntu20.04-x86_64/devel/Dockerfile"&gt;nvidia/cuda:11.0-cudnn-devel-ubuntu20.04&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/floydhub/dockerfiles"&gt;Docker Images - FloydHub&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/Kaggle/docker-python"&gt;Docker Image - Kaggle&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://docs.nvidia.com/cuda/cuda-installation-guide-microsoft-windows/index.html"&gt;CUDA Installation Guide for Microsoft Windows&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://developer.download.nvidia.com/compute/cuda/repos/"&gt;Nvidia CUDA Linux Repositories&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://linuxconfig.org/how-to-install-cuda-on-ubuntu-20-04-focal-fossa-linux"&gt;How to install CUDA on Ubuntu 20.04 Focal Fossa Linux&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;https://github.com/NVIDIA/nvidia-docker&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;https://github.com/NVIDIA/nvidia-docker#ubuntu-16041804-debian-jessiestretchbuster&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/NVIDIA/nvidia-docker/wiki/Frequently-Asked-Questions#how-do-i-install-the-nvidia-driver"&gt;How Do I Install the Nvidia Driver&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;https://developer.download.nvidia.com/compute/machine-learning/repos/&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="Software"></category><category term="software"></category><category term="Docker"></category><category term="GPU"></category><category term="Nvidia"></category></entry><entry><title>Init for Docker Containers</title><link href="https://www.legendu.net/en/blog/init-for-docker-containers/" rel="alternate"></link><published>2020-03-05T11:08:32-08:00</published><updated>2021-09-14T11:07:25-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2020-03-05:/en/blog/init-for-docker-containers/</id><summary type="html">&lt;p&gt;**
Things on this page are fragmentary and immature notes/thoughts of the author.
Please read with your own judgement!
**&lt;/p&gt;
&lt;h2 id="built-in-support"&gt;Built-in Support&lt;/h2&gt;
&lt;p&gt;Docker has built-in support for init process (which is based on tini) now.
In short, 
you just have to specify the option &lt;code&gt;--init&lt;/code&gt;
when you start a container using …&lt;/p&gt;</summary><content type="html">&lt;p&gt;**
Things on this page are fragmentary and immature notes/thoughts of the author.
Please read with your own judgement!
**&lt;/p&gt;
&lt;h2 id="built-in-support"&gt;Built-in Support&lt;/h2&gt;
&lt;p&gt;Docker has built-in support for init process (which is based on tini) now.
In short, 
you just have to specify the option &lt;code&gt;--init&lt;/code&gt;
when you start a container using &lt;code&gt;docker run&lt;/code&gt;.
For more details,
please refer to
&lt;a href="https://docs.docker.com/engine/reference/run/#specify-an-init-process"&gt;Specify an init process&lt;/a&gt;
.&lt;/p&gt;
&lt;h2 id="old-approaches"&gt;Old Approaches&lt;/h2&gt;
&lt;p&gt;The article &lt;a href="https://ahmet.im/blog/minimal-init-process-for-containers/"&gt;Choosing an init process for multi-process containers&lt;/a&gt;
has very detailed comparisons among different init options. 
&lt;a href="https://skarnet.org/software/s6/"&gt;s6&lt;/a&gt; is recommended as thee best init for Docker.
The &lt;a href="https://github.com/just-containers/s6-overlay"&gt;s6-overlay-builder&lt;/a&gt;
project is a series of init scripts and utilities to ease creating Docker images using s6 as a process supervisor.&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;https://docs.docker.com/engine/reference/commandline/run/&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;https://github.com/krallin/tini&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://advancedweb.hu/supervisor-with-docker-lessons-learned/"&gt;Supervisor with Docker: Lessons learned&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="Software"></category><category term="software"></category><category term="Docker"></category><category term="container"></category><category term="init"></category><category term="s6"></category><category term="s6-overlay"></category><category term="tini"></category><category term="Supervisord"></category><category term="dumb-init"></category></entry><entry><title>Resizing Hard Disk of Guest Machine in Virtualbox</title><link href="https://www.legendu.net/en/blog/resizing-hard-disk-of-guest-machine-in-virtualbox/" rel="alternate"></link><published>2013-07-20T10:57:11-07:00</published><updated>2021-07-26T18:18:28-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2013-07-20:/en/blog/resizing-hard-disk-of-guest-machine-in-virtualbox/</id><summary type="html">&lt;p&gt;Suppose you have virtual hard disk in VirtualBox called &lt;code&gt;xp.vdi&lt;/code&gt;, 
you can resize it (megabytes) using the following command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;VBoxManage modifyhd xp.vdi --resize 40960
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The command currently doesn't support vmdk virtual disk. 
So if you have a virtual disk called &lt;code&gt;xp.vmdk&lt;/code&gt;,
you have to first convert it …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Suppose you have virtual hard disk in VirtualBox called &lt;code&gt;xp.vdi&lt;/code&gt;, 
you can resize it (megabytes) using the following command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;VBoxManage modifyhd xp.vdi --resize 40960
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The command currently doesn't support vmdk virtual disk. 
So if you have a virtual disk called &lt;code&gt;xp.vmdk&lt;/code&gt;,
you have to first convert it into a vdi disk using command&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;VBoxManage clonehd --format VDI xp.vmdk xp.vdi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;and then resize the vdi file using previous command.
If you want a (resized) vmdk virtual disk rather than a vdi virtual disk,
you can convert the resized vdi virtual disk to vmdk format using the following command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;VBoxManage clonehd --format vmdk xp.vdi xp.vmdk
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Note that the above commands only resize the virtual disk,
it doesn't resizes partitions inside the virtual disk.
You must manually resize partiions. 
This is easy to do for Windows 7/8 guest machines. 
If have other type of guest machiens (e.g., XP),
you can use partition tools (e.g., GParted) to manually resize partitions.
Take GParted for example,
you can download it, 
mount it into a virtual CD/DVD, 
boot your guest machine into GParted,
and then use the graphical tool to resize partitions.
It's very intuitive once you get there.&lt;/p&gt;</content><category term="Software"></category><category term="partition"></category><category term="gparted"></category><category term="virtualbox"></category><category term="software"></category><category term="vmdk"></category><category term="resize"></category><category term="resizing"></category></entry><entry><title>TeXstudio, Bravo!</title><link href="https://www.legendu.net/en/blog/texstudio-bravo/" rel="alternate"></link><published>2012-06-06T14:47:52-07:00</published><updated>2021-04-06T14:47:52-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2012-06-06:/en/blog/texstudio-bravo/</id><summary type="html">&lt;p&gt;&lt;img src="http://dclong.github.io/media/bravo/bravo.jpg" height="200" width="240" align="right"/&gt;&lt;/p&gt;
&lt;p&gt;I have heard about 
&lt;a href="https://github.com/texstudio-org/texstudio"&gt;TeXstudio&lt;/a&gt;
for a long time. 
I tried it today on a Debian virtual machine. 
It works like a charm. 
I like the preview function a lot. 
Using inline preview, you can see compiled result while you are typing. 
It works even with user-defined commands. 
This is …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img src="http://dclong.github.io/media/bravo/bravo.jpg" height="200" width="240" align="right"/&gt;&lt;/p&gt;
&lt;p&gt;I have heard about 
&lt;a href="https://github.com/texstudio-org/texstudio"&gt;TeXstudio&lt;/a&gt;
for a long time. 
I tried it today on a Debian virtual machine. 
It works like a charm. 
I like the preview function a lot. 
Using inline preview, you can see compiled result while you are typing. 
It works even with user-defined commands. 
This is very helpful for people who has to use massive math expression in
LaTeX, which make TeXstudio comparable to the WYSIWYG LaTeX IDE "LyX". The
advatantage of TeXstudio over Lyx is obvious. You write pure LaTeX code. You
do not have to remember many shortcuts and commands specific to LyX. TeXstudio has
tons of other features such as auto-complete, highlighting, structure view, reversing
search and so on. It is also cross platform! TeXstudio has the potential to be
the terminator of debate on LaTeX IDEs. &lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;https://github.com/texstudio-org/texstudio&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;https://www.texstudio.org/&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.legendu.net/misc/blog/latex-ide"&gt;IDEs for LaTeX&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="Software"></category><category term="LyX"></category><category term="Tex"></category><category term="LaTeX"></category><category term="IDE"></category><category term="software"></category><category term="WYSIWYG"></category><category term="TeXstudio"></category></entry><entry><title>Remote Development in Visual Studio Code</title><link href="https://www.legendu.net/en/blog/remote-development-in-visual-studio-code/" rel="alternate"></link><published>2019-10-10T13:07:08-07:00</published><updated>2021-03-10T13:07:08-08:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-10-10:/en/blog/remote-development-in-visual-studio-code/</id><summary type="html">&lt;p&gt;There are 2 approaches to develop remotely in Visual Studio Code.
The first way is to leverage the extension pack
&lt;a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.vscode-remote-extensionpack"&gt;Remote Development&lt;/a&gt;.
For more details, 
please refer to 
&lt;a href="https://code.visualstudio.com/blogs/2019/05/02/remote-development"&gt;Remote Development with VS Code&lt;/a&gt;
and
&lt;a href="https://code.visualstudio.com/docs/remote/remote-overview"&gt;VS Code Remote Development&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The second (prefered) approach is to leverage 
&lt;a href="https://github.com/cdr/code-server"&gt;cdr/code-server&lt;/a&gt;.
For more details …&lt;/p&gt;</summary><content type="html">&lt;p&gt;There are 2 approaches to develop remotely in Visual Studio Code.
The first way is to leverage the extension pack
&lt;a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.vscode-remote-extensionpack"&gt;Remote Development&lt;/a&gt;.
For more details, 
please refer to 
&lt;a href="https://code.visualstudio.com/blogs/2019/05/02/remote-development"&gt;Remote Development with VS Code&lt;/a&gt;
and
&lt;a href="https://code.visualstudio.com/docs/remote/remote-overview"&gt;VS Code Remote Development&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The second (prefered) approach is to leverage 
&lt;a href="https://github.com/cdr/code-server"&gt;cdr/code-server&lt;/a&gt;.
For more details, 
please refer to 
&lt;a href="http://www.legendu.net/misc/blog/visual-studio-code-server/"&gt;Visual Studio Code Server&lt;/a&gt;.
Visual Studio Code Server is prefer to the Remote Development extension pack 
as Visual Studio Code Server requires no installation or configuration on the client machine.
A browser is all your need to use Visual Studio Code Server once it is setup.&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://code.visualstudio.com/docs/remote/containers"&gt;Developing inside a Container&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://code.visualstudio.com/docs/remote/containers-advanced"&gt;Advanced Container Configuration&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://code.visualstudio.com/docs/remote/containers-advanced#_developing-inside-a-container-on-a-remote-docker-host"&gt;Advanced container configuration&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="Software"></category><category term="Software"></category><category term="Visual Studio Code"></category><category term="vscode"></category><category term="VS Code"></category><category term="remote development"></category><category term="Visual Studio Code server"></category><category term="vscode server"></category></entry><entry><title>Ways to Download Files Using Selenium Webdrive</title><link href="https://www.legendu.net/en/blog/ways-to-download-files-using-selenium-webdrive/" rel="alternate"></link><published>2013-08-16T14:25:17-07:00</published><updated>2021-02-16T14:25:17-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2013-08-16:/en/blog/ways-to-download-files-using-selenium-webdrive/</id><summary type="html">&lt;p&gt;Selenium WebDrive cannot have no control of system Dialog, 
so you have to avoid the Dialog when downloading files using WebDrive.&lt;/p&gt;
&lt;p&gt;The first way is to enable automatical download in the browser
that you use with Seleniu WebDrive. 
So when click a file link, 
the file is automatically downloaded to …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Selenium WebDrive cannot have no control of system Dialog, 
so you have to avoid the Dialog when downloading files using WebDrive.&lt;/p&gt;
&lt;p&gt;The first way is to enable automatical download in the browser
that you use with Seleniu WebDrive. 
So when click a file link, 
the file is automatically downloaded to the directory that you set.
The second (and better way) is to export the cookie of the browser,
extract the download link and then use the command &lt;code&gt;wget&lt;/code&gt; or &lt;code&gt;curl&lt;/code&gt; to download it. 
Surely you have to use the cookie with &lt;code&gt;wget&lt;/code&gt; or &lt;code&gt;curl&lt;/code&gt; if authentication is required on the web.&lt;/p&gt;</content><category term="Software"></category><category term="Web"></category><category term="WebDrive"></category><category term="automation"></category><category term="Selenium"></category><category term="software"></category></entry><entry><title>Make Your Life Easier with Portable Applications</title><link href="https://www.legendu.net/en/blog/portable-apps/" rel="alternate"></link><published>2012-12-23T00:04:26-08:00</published><updated>2020-05-23T00:04:26-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2012-12-23:/en/blog/portable-apps/</id><summary type="html">&lt;p&gt;Using portable applications is a good way to make your digital life easier. 
They do not eat up your disk quickly nor do they mess up the registry of your Windows OS.
You can always copy these applications from one computer to another and use it out of box.
Or …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Using portable applications is a good way to make your digital life easier. 
They do not eat up your disk quickly nor do they mess up the registry of your Windows OS.
You can always copy these applications from one computer to another and use it out of box.
Or you can install portable applications on a flash drive 
and use it on any computer with a Windows OS.
&lt;a href="http://www.portableapps.com/"&gt;PortableApps&lt;/a&gt; offers all kinds of portable apps.
What is better is that it also offers a plotform 
which integrate many functionalities together 
such as installing portable apps (directly from the repository), 
updating portable apps, 
searching for installed apps, etc.
There is also a &lt;a href="http://www.portableappc.com/"&gt;Chinese website&lt;/a&gt; 
whcih offers portable apps with Chinese characteristics 
that are compatible with the PortableApps platform. &lt;/p&gt;
&lt;p&gt;There are some software that I use often 
but is not support offically by PortableApps yet.
For example, Cygwin and Python.
There is a good portable version of Cygwin named 
&lt;a href="https://github.com/CybeSystems/CygwinPortable"&gt;CygwinPortable&lt;/a&gt;
on GitHub.
It uses ConEmu for the console which supports multi-tabs 
and can also be used as Windows command prompt. 
CygwinPortable also allows you to create users and define the default user, 
which is very convenient.
Another advantage of CygwinPortable 
(over &lt;a href="http://mobaxterm.mobatek.net/"&gt;MobaXterm&lt;/a&gt; and other portable version of Cygwin)
is that it has built-in Python suppport,
which makes Vim and other software installed on it Python-supported.
Though CygwinPortable has built-in Python support, 
the Python coming with it has limitations due to library dependencies.
For example, 
some Python packages such as FuzzyWuzzy and NLTK fails to work in CygwinPortable.
&lt;a href="http://portablepython.com/"&gt;Anaconda Python&lt;/a&gt; is great portable distribution of Python.
It comes with many popular Python packages 
such as NumPy, SciPy, Matplotlib, PIL, PyQt, etc.
and also code editors such as PyCharm, PyScripter and IDLE.&lt;/p&gt;
&lt;h2 id="tips-on-portableapps"&gt;Tips on &lt;a href="https://portableapps.com/"&gt;PortableApps&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The PortableApps launcher might causes desktop icon not to show up. 
    Closing the PortableApps launcher solves the problem.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can actually run PortableApps programs directly (without using the PortableApps launcher). 
    If you'd like to do so, 
    you can make shortcuts of PortableApps programs on the desktop and/or in the start menu 
    to make things easier.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="Software"></category><category term="application"></category><category term="Chinese"></category><category term="software"></category><category term="portable"></category><category term="apps"></category><category term="CygwinPortable"></category><category term="Portable Python"></category></entry><entry><title>Block JavaScript in Browsers Using NoScript</title><link href="https://www.legendu.net/en/blog/noscript-tips/" rel="alternate"></link><published>2015-06-22T14:08:28-07:00</published><updated>2020-05-22T14:08:28-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-06-22:/en/blog/noscript-tips/</id><content type="html">&lt;p&gt;**
Things on this page are
fragmentary and immature notes/thoughts of the author.
Please read with your own judgement!
**&lt;/p&gt;
&lt;p&gt;To enable NoScript synchronization via Firefox Sync go to about:config (type this in URL bar) 
and change noscript.sync.enabled to true.&lt;/p&gt;</content><category term="Software"></category><category term="software"></category><category term="tips"></category><category term="Firefox"></category><category term="synchronization"></category><category term="NoScript"></category></entry><entry><title>Useful Plugins for Eclipse</title><link href="https://www.legendu.net/en/blog/useful-plugins-for-eclipse/" rel="alternate"></link><published>2012-09-22T13:41:22-07:00</published><updated>2020-05-22T13:41:22-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2012-09-22:/en/blog/useful-plugins-for-eclipse/</id><summary type="html">&lt;p&gt;&lt;img src="http://dclong.github.io/media/eclipse/cdt.png" height="200" width="240" align="right"/&gt;&lt;/p&gt;
&lt;h2 id="terminal-plug-in"&gt;Terminal Plug-in&lt;/h2&gt;
&lt;p&gt;"Terminal Plug-in" is a fully-working command-line terminal for Eclipse.&lt;/p&gt;
&lt;h2 id="easyshell"&gt;EasyShell&lt;/h2&gt;
&lt;p&gt;"EasyShell" allows to open a shell window or file manager from the popup menu 
in the navigation tree or editor view.&lt;/p&gt;
&lt;h2 id="vrapper"&gt;Vrapper&lt;/h2&gt;
&lt;p&gt;Vrapper provides Vim-like scheme for Eclispe.
You can edit code similar as what you do in …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img src="http://dclong.github.io/media/eclipse/cdt.png" height="200" width="240" align="right"/&gt;&lt;/p&gt;
&lt;h2 id="terminal-plug-in"&gt;Terminal Plug-in&lt;/h2&gt;
&lt;p&gt;"Terminal Plug-in" is a fully-working command-line terminal for Eclipse.&lt;/p&gt;
&lt;h2 id="easyshell"&gt;EasyShell&lt;/h2&gt;
&lt;p&gt;"EasyShell" allows to open a shell window or file manager from the popup menu 
in the navigation tree or editor view.&lt;/p&gt;
&lt;h2 id="vrapper"&gt;Vrapper&lt;/h2&gt;
&lt;p&gt;Vrapper provides Vim-like scheme for Eclispe.
You can edit code similar as what you do in Vim 
plus that you can use mouse to copy and paste code. 
In my opinion, 
it is better than either Eclipse or Vim alone. 
The configuration file of Vrapper is &lt;code&gt;.vrapper&lt;/code&gt; or &lt;code&gt;_vrapperrc&lt;/code&gt; (on Windows).&lt;/p&gt;
&lt;p&gt;The &lt;a href="http://eclim.org/"&gt;Eclim&lt;/a&gt; project provides a great alternative to the Vrapper plugin. 
Eclim is a seemless integration of Eclipse and the native Vim (rather than a Vim plugin). 
All plugins in Vim works well. &lt;/p&gt;
&lt;h2 id="codeinterview-plugin"&gt;CodeInterview Plugin&lt;/h2&gt;
&lt;p&gt;"CodeInterview Plugin" allows you to write code in Eclipse instead of on CodeInterview directly. 
This is helpful if you will be interviewed for coding skills on CodeInterview.&lt;/p&gt;</content><category term="Software"></category><category term="Vim"></category><category term="Eclipse"></category><category term="shell"></category><category term="C/C++"></category><category term="IDE"></category><category term="software"></category><category term="plugins"></category><category term="addons"></category></entry><entry><title>Install Docker</title><link href="https://www.legendu.net/en/blog/docker-installation/" rel="alternate"></link><published>2017-06-09T13:13:36-07:00</published><updated>2020-05-09T13:13:36-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-06-09:/en/blog/docker-installation/</id><summary type="html">&lt;h2 id="install-docker-on-debian-series-of-linux-distributions"&gt;Install Docker on Debian Series of Linux Distributions&lt;/h2&gt;
&lt;p&gt;You can install Docker on Debian series of Linux distributions
(Debian, Ubuntu, Linux Mint, etc.) 
using the following commands.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;apt-get&lt;span class="w"&gt; &lt;/span&gt;update
sudo&lt;span class="w"&gt; &lt;/span&gt;apt-get&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;docker.io
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Configure your docker following instructions in the section 
&lt;a href="http://www.legendu.net/en/blog/docker-installation/#configure-docker"&gt;Configure Docker&lt;/a&gt;
.&lt;/p&gt;
&lt;h2 id="install-the-latest-version-of-docker-on-debian-series-of-linux-distributions"&gt;Install the Latest Version of …&lt;/h2&gt;</summary><content type="html">&lt;h2 id="install-docker-on-debian-series-of-linux-distributions"&gt;Install Docker on Debian Series of Linux Distributions&lt;/h2&gt;
&lt;p&gt;You can install Docker on Debian series of Linux distributions
(Debian, Ubuntu, Linux Mint, etc.) 
using the following commands.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;apt-get&lt;span class="w"&gt; &lt;/span&gt;update
sudo&lt;span class="w"&gt; &lt;/span&gt;apt-get&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;docker.io
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Configure your docker following instructions in the section 
&lt;a href="http://www.legendu.net/en/blog/docker-installation/#configure-docker"&gt;Configure Docker&lt;/a&gt;
.&lt;/p&gt;
&lt;h2 id="install-the-latest-version-of-docker-on-debian-series-of-linux-distributions"&gt;Install the Latest Version of Docker on Debian Series of Linux Distributions&lt;/h2&gt;
&lt;p&gt;You can install the latest version of Docker CE 
on Debian Series of Linux distributions (Debian, Ubuntu, Linux Mint, etc.)
using the commands below.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;add-apt-repository&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu &lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;lsb_release&lt;span class="w"&gt; &lt;/span&gt;-cs&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt; stable&amp;quot;&lt;/span&gt;
sudo&lt;span class="w"&gt; &lt;/span&gt;apt-get&lt;span class="w"&gt; &lt;/span&gt;update
sudo&lt;span class="w"&gt; &lt;/span&gt;apt-get&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;docker-ce
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Configure your docker following instructions in the section 
&lt;a href="http://www.legendu.net/en/blog/docker-installation/#configure-docker"&gt;Configure Docker&lt;/a&gt;
.&lt;/p&gt;
&lt;h2 id="install-docker-in-other-operating-systems"&gt;Install Docker in Other Operating Systems&lt;/h2&gt;
&lt;p&gt;Please refer to the offical Docker doc &lt;a href="https://docs.docker.com/install/"&gt;Install Docker&lt;/a&gt;
on instruction to install Docker in other operating systems.&lt;/p&gt;
&lt;p&gt;Configure your docker following instructions in the section 
&lt;a href="http://www.legendu.net/en/blog/docker-installation/#configure-docker"&gt;Configure Docker&lt;/a&gt;
.&lt;/p&gt;
&lt;h2 id="configure-docker"&gt;Configure Docker&lt;/h2&gt;
&lt;p&gt;By default,
the &lt;code&gt;docker&lt;/code&gt; command requires &lt;code&gt;sudo&lt;/code&gt; previlage to run
which is a little hassle since you have to type &lt;code&gt;sudo&lt;/code&gt; every time 
and type your password for &lt;code&gt;sudo&lt;/code&gt;.
It is suggested that you add yourself into the &lt;code&gt;docker&lt;/code&gt; group
so that you can run the &lt;code&gt;docker&lt;/code&gt; command without &lt;code&gt;sudo&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;gpasswd&lt;span class="w"&gt; &lt;/span&gt;-a&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;whoami&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;docker
newgrp&lt;span class="w"&gt; &lt;/span&gt;docker
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The command &lt;code&gt;newgrp docker&lt;/code&gt; makes the group &lt;code&gt;docker&lt;/code&gt; take effect.
You can confirm by issuing the &lt;code&gt;id&lt;/code&gt; command.
If for whatever reason the group &lt;code&gt;docker&lt;/code&gt; does not take effect,
logout and then login again to make the group &lt;code&gt;docker&lt;/code&gt; in effect.&lt;/p&gt;</content><category term="Software"></category><category term="software"></category><category term="Docker"></category><category term="installation"></category><category term="Ubuntu"></category><category term="latest"></category><category term="docker-ce"></category><category term="install Docker"></category></entry><entry><title>Jupyter Notebook Support in Bitbucket</title><link href="https://www.legendu.net/en/blog/jupyter-notebook-support-in-bitbucket/" rel="alternate"></link><published>2017-12-08T12:00:14-08:00</published><updated>2020-04-08T12:00:14-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-12-08:/en/blog/jupyter-notebook-support-in-bitbucket/</id><summary type="html">&lt;p&gt;GitHub has built-in support for Jupyter Notebooks. 
Bitbucket supports Jupyter Notebooks via a fileview addon. 
It works on both publick and private notebooks.
Follow the steps below to install the addon.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Click on your avatar in the lower left corner on your homepage of Bitbucket.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Bitbucket Menu" src="https://user-images.githubusercontent.com/824507/78822713-64b42300-7990-11ea-9879-cd8cf97cdbbd.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Select the option &lt;code&gt;App marketplace …&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;GitHub has built-in support for Jupyter Notebooks. 
Bitbucket supports Jupyter Notebooks via a fileview addon. 
It works on both publick and private notebooks.
Follow the steps below to install the addon.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Click on your avatar in the lower left corner on your homepage of Bitbucket.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Bitbucket Menu" src="https://user-images.githubusercontent.com/824507/78822713-64b42300-7990-11ea-9879-cd8cf97cdbbd.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Select the option &lt;code&gt;App marketplace&lt;/code&gt;. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Find the addon &lt;code&gt;Notebook Viewer&lt;/code&gt; in the listings. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install the addon &lt;code&gt;Notebook Viewer&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Open a notebook in one of your Bitbucket repository.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click on &lt;code&gt;Default file viwer&lt;/code&gt; (to the left of the button Edit) and select &lt;code&gt;IPython Viwer&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="reference"&gt;Reference&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://bitbucket.org/site/master/issues/11318/enable-rich-rendering-of-jupyter-notebooks"&gt;https://bitbucket.org/site/master/issues/11318/enable-rich-rendering-of-jupyter-notebooks&lt;/a&gt;&lt;/p&gt;</content><category term="Software"></category><category term="programming"></category><category term="Bitbucket"></category><category term="Jupyter Notebook"></category><category term="JupyterLab"></category><category term="software"></category><category term="GitHub"></category></entry><entry><title>Use wget with Proxy</title><link href="https://www.legendu.net/en/blog/use-wget-behind-proxy/" rel="alternate"></link><published>2014-07-06T14:31:55-07:00</published><updated>2020-04-06T14:31:55-07:00</updated><author><name>Chuanlong (Ben) Du</name></author><id>tag:www.legendu.net,2014-07-06:/en/blog/use-wget-behind-proxy/</id><summary type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If you don't already know the proxy in use (in your company),
    read the post &lt;a href="http://www.legendu.net/en/blog/find-out-proxy-in-use/"&gt;Find out Proxy in Use&lt;/a&gt;
    to figure it out.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Put the following lines into your wget configuration file,
    which is usually &lt;code&gt;~/.wget&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;use_proxy&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;on&lt;/span&gt;
&lt;span class="n"&gt;http_proxy&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nl"&gt;http&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="nl"&gt;username&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;password&lt;/span&gt;&lt;span class="nv"&gt;@proxy_ip&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;port&lt;/span&gt;
&lt;span class="n"&gt;https_proxy&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nl"&gt;http&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="nl"&gt;username&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;password&lt;/span&gt;&lt;span class="nv"&gt;@proxy_ip …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If you don't already know the proxy in use (in your company),
    read the post &lt;a href="http://www.legendu.net/en/blog/find-out-proxy-in-use/"&gt;Find out Proxy in Use&lt;/a&gt;
    to figure it out.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Put the following lines into your wget configuration file,
    which is usually &lt;code&gt;~/.wget&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;use_proxy&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;on&lt;/span&gt;
&lt;span class="n"&gt;http_proxy&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nl"&gt;http&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="nl"&gt;username&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;password&lt;/span&gt;&lt;span class="nv"&gt;@proxy_ip&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;port&lt;/span&gt;
&lt;span class="n"&gt;https_proxy&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nl"&gt;http&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="nl"&gt;username&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;password&lt;/span&gt;&lt;span class="nv"&gt;@proxy_ip&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;port&lt;/span&gt;
&lt;span class="n"&gt;ftp_proxy&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nl"&gt;http&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="nl"&gt;username&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;password&lt;/span&gt;&lt;span class="nv"&gt;@proxy_ip&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;port&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use wget to download files.
    A illustration is given below.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;wget&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;no&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;check&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;certificate&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="nb"&gt;load&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;cookies&lt;/span&gt;&lt;span class="o"&gt;=/&lt;/span&gt;&lt;span class="n"&gt;home&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mobaxterm&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ff_cookies&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;txt&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;https&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;bitbucket&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dclong&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;master&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;zip&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;You have to use the &lt;code&gt;--no-check-certificate&lt;/code&gt; option
if you encounter "certificate verification" errors.
Another way to do this is to set environment variables &lt;code&gt;http_proxy&lt;/code&gt;, &lt;code&gt;https_proxy&lt;/code&gt; and &lt;code&gt;ftp_proxy&lt;/code&gt; etc.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="Software"></category><category term="software"></category><category term="download"></category><category term="wget"></category><category term="proxy"></category></entry><entry><title>Trust a JupyterLab Notebook</title><link href="https://www.legendu.net/en/blog/trust-a-jupyterlab-notebook/" rel="alternate"></link><published>2019-12-29T20:14:09-08:00</published><updated>2020-01-29T20:14:09-08:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-12-29:/en/blog/trust-a-jupyterlab-notebook/</id><summary type="html">&lt;p&gt;By default, 
IPython (kernel of Jupyter/Lab notebook) disables executation of untrusted code without explicit user input.
If you have notebook whose output containings JavaScript (e.g., JS-based visualiation)
and code wasn't run by you (e.g., the notebook is shared by someone else),
the JS-based output won't be shown …&lt;/p&gt;</summary><content type="html">&lt;p&gt;By default, 
IPython (kernel of Jupyter/Lab notebook) disables executation of untrusted code without explicit user input.
If you have notebook whose output containings JavaScript (e.g., JS-based visualiation)
and code wasn't run by you (e.g., the notebook is shared by someone else),
the JS-based output won't be shown by default.
For more explanation,
please refer to 
&lt;a href="https://jupyter-notebook.readthedocs.io/en/stable/security.html#notebook-security"&gt;Notebook Security&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;There are currently 2 ways to trust a notebook.
First, you can trust (multiple) notebooks via command-line.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;jupyter&lt;span class="w"&gt; &lt;/span&gt;trust&lt;span class="w"&gt; &lt;/span&gt;path_to_notebook.ipynb
jupyter&lt;span class="w"&gt; &lt;/span&gt;trust&lt;span class="w"&gt; &lt;/span&gt;notebook1.ipynb&lt;span class="w"&gt; &lt;/span&gt;notebook2.ipynb
jupyter&lt;span class="w"&gt; &lt;/span&gt;trust&lt;span class="w"&gt; &lt;/span&gt;*.ipynb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Second, 
you can trust a notebook using the &lt;code&gt;Trust Notebook&lt;/code&gt; comamnd from the command tab in the left panel.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Click the on the &lt;code&gt;Commands&lt;/code&gt; tab in the left panel.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Search for &lt;code&gt;Trust Notebook&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click the &lt;code&gt;Trust Notebook&lt;/code&gt; button to trust a notebook.
    You will get a prompt to confirm your action.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="Trust a Notebook" src="https://user-images.githubusercontent.com/824507/71461881-4ff7aa80-2766-11ea-8c35-0de71284907b.png"&gt;&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://jupyter-notebook.readthedocs.io/en/stable/security.html#notebook-security"&gt;Notebook Security&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://jupyter-notebook.readthedocs.io/en/stable/notebook.html#trusting-notebooks"&gt;Trusting Notebooks&lt;/a&gt;&lt;/p&gt;</content><category term="Software"></category><category term="Software"></category><category term="tools"></category><category term="JupyterLab"></category><category term="trust notebook"></category></entry><entry><title>Speedup Docker Pulling and Pushing</title><link href="https://www.legendu.net/en/blog/speedup-docker-pulling-and-pushing/" rel="alternate"></link><published>2017-03-29T01:23:50-07:00</published><updated>2020-01-29T01:23:50-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-03-29:/en/blog/speedup-docker-pulling-and-pushing/</id><summary type="html">&lt;p&gt;Pulling/pushing Docker images is extremely slow in China. 
There are a few ways to speed up docker pulling/pushing in China.&lt;/p&gt;
&lt;h2 id="using-the-official-china-mirror"&gt;Using the Official China Mirror&lt;/h2&gt;
&lt;p&gt;Now the best way is to use the offical China mirror.
Please refer to 
&lt;a href="https://www.docker-cn.com/registry-mirror"&gt;Docker 中国官方镜像加速 …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Pulling/pushing Docker images is extremely slow in China. 
There are a few ways to speed up docker pulling/pushing in China.&lt;/p&gt;
&lt;h2 id="using-the-official-china-mirror"&gt;Using the Official China Mirror&lt;/h2&gt;
&lt;p&gt;Now the best way is to use the offical China mirror.
Please refer to 
&lt;a href="https://www.docker-cn.com/registry-mirror"&gt;Docker 中国官方镜像加速&lt;/a&gt;
for details.
You have to restart the Docker daemon in order for the configuration to take effect.
If you are Ubuntu, 
then you can use the following command to restart the daemon.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo service docker restart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id="use-the-ustc-mirror"&gt;Use the USTC Mirror&lt;/h2&gt;
&lt;p&gt;It seems to me that the official China mirror is gone.
However, 
there are still other good mirrors that you can use.
For example, 
you can usee the USTC mirror 
by adding the following option into the file &lt;code&gt;/etc/docker/daemon.json&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;registry-mirrors&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;https://docker.mirrors.ustc.edu.cn/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id="old-way"&gt;Old Way&lt;/h2&gt;
&lt;p&gt;One way to speedup Docker visiting is to use &lt;a href="https://www.daocloud.io/"&gt;DaoCloud&lt;/a&gt; as a proxy.
All you have to do is simply adding the following line into the file &lt;code&gt;/etc/default/docker&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;DOCKER_OPTS=&amp;quot;--registry-mirror=&amp;#39;http://a92c904a.m.daocloud.io&amp;#39;&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Please refer to &lt;a href="https://www.daocloud.io/mirror#accelerator-doc"&gt;https://www.daocloud.io/mirror#accelerator-doc&lt;/a&gt; for more details.&lt;/p&gt;</content><category term="Software"></category><category term="software"></category><category term="Docker"></category><category term="speedup"></category><category term="performance"></category><category term="DaoCloud"></category></entry><entry><title>Use Git Behind a Proxy</title><link href="https://www.legendu.net/en/blog/use-git-behind-a-proxy/" rel="alternate"></link><published>2014-07-07T23:42:48-07:00</published><updated>2019-03-07T23:42:48-08:00</updated><author><name>Chuanlong (Ben) Du</name></author><id>tag:www.legendu.net,2014-07-07:/en/blog/use-git-behind-a-proxy/</id><summary type="html">&lt;p&gt;Here is a good article on &lt;a href="http://www.librebyte.net/en/git/git-behind-a-proxy-or-firewall/"&gt;Git Behind a Proxy or Firewall&lt;/a&gt;.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If you do not already know the proxy in use (in your office), 
    read the post &lt;a href="http://www.legendu.net/en/blog/find-out-proxy-in-use/"&gt;Find out Proxy in Use&lt;/a&gt;
    to figure the proxy (in your office).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Run the following commands in terminal or Windows command prompt …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;Here is a good article on &lt;a href="http://www.librebyte.net/en/git/git-behind-a-proxy-or-firewall/"&gt;Git Behind a Proxy or Firewall&lt;/a&gt;.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If you do not already know the proxy in use (in your office), 
    read the post &lt;a href="http://www.legendu.net/en/blog/find-out-proxy-in-use/"&gt;Find out Proxy in Use&lt;/a&gt;
    to figure the proxy (in your office).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Run the following commands in terminal or Windows command prompt to configure Git.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;git&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="k"&gt;global&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;http&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;proxy&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nl"&gt;http&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="nl"&gt;username&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;password&lt;/span&gt;&lt;span class="nv"&gt;@proxy_ip&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;port&lt;/span&gt;
&lt;span class="n"&gt;git&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;--global https.proxy https://username:password@proxy_ip:port&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Or you can directly add the following lines into your Git configuration file,
which is usually &lt;code&gt;~/.gitconfig&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;[http]&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="na"&gt;proxy&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;http://username:password@proxy_ip:port&lt;/span&gt;
&lt;span class="k"&gt;[https]&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="na"&gt;proxy&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;http://username:password@proxy_ip:port&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The Git protocol is usually not supported in office.
    In this case,
    you have to use the https protocols.
    When using the https protocols,
    you will be prompted for password every time you pull from a private repository 
    or push to a repository,
    which is annoying.
    To make this less painful,
    you can define shortcuts/hotstrings to auto fill passwords for you using AutoHotkey/AutoKey.
    This is not very secure,
    but I do not worry too much about it as the password is saved on the office laptop only
    and is unlikely to be exposed to other people.
    There are other solutions to cache Git passwords on Windows,
    but I will not go into the hassle.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you come across the error of "SSL certificate problem: unable to get local issuer certificate",
    you have to run the following command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git config --global http.sslVerify false
git config --global https.sslVerify false
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Or you can add&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sslVerify = false
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;to the [http] and [https] section in the git configuration directly.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Note that working in a Linux virtual machine on your office laptop with Windows OS
can possibly help you circumvent the proxy issue.&lt;/p&gt;
&lt;h2 id="question"&gt;Question&lt;/h2&gt;
&lt;p&gt;Can a socks proxy be used as a HTTP/HTTPS proxy for Git?&lt;/p&gt;</content><category term="Software"></category><category term="software"></category><category term="Git"></category><category term="proxy"></category><category term="protocol"></category></entry><entry><title>List Running Jupyter Notebook Servers</title><link href="https://www.legendu.net/en/blog/list-running-jupyter-notebook-servers/" rel="alternate"></link><published>2017-08-22T12:21:29-07:00</published><updated>2017-10-22T12:21:29-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-08-22:/en/blog/list-running-jupyter-notebook-servers/</id><summary type="html">&lt;p&gt;You can list running Jupyter Notebook servers using the following command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;jupyter notebook list
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;It works well most of the time. 
However, 
if the servers are launched using the root account (e.g., in a Docker container), 
you might encounter issues. 
In this case,
a better alternative is to list …&lt;/p&gt;</summary><content type="html">&lt;p&gt;You can list running Jupyter Notebook servers using the following command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;jupyter notebook list
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;It works well most of the time. 
However, 
if the servers are launched using the root account (e.g., in a Docker container), 
you might encounter issues. 
In this case,
a better alternative is to list running servers using Python script.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;notebook&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;notebookapp&lt;/span&gt;
&lt;span class="n"&gt;servers&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;notebookapp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;list_running_servers&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="n"&gt;servers&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;For more please refer to 
&lt;a href="https://stackoverflow.com/questions/41782255/how-to-get-the-current-jupyter-notebook-servers-in-python"&gt;https://stackoverflow.com/questions/41782255/how-to-get-the-current-jupyter-notebook-servers-in-python&lt;/a&gt;.&lt;/p&gt;</content><category term="Software"></category><category term="software"></category><category term="notebook"></category><category term="Jupyter Notebook"></category><category term="JupyterLab"></category><category term="Python"></category><category term="root"></category><category term="running servers"></category><category term="list"></category></entry><entry><title>Tips for AWK</title><link href="https://www.legendu.net/en/blog/awk-tips/" rel="alternate"></link><published>2013-10-19T10:22:17-07:00</published><updated>2017-03-19T10:22:17-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2013-10-19:/en/blog/awk-tips/</id><summary type="html">&lt;p&gt;&lt;a href="http://www.grymoire.com/Unix/Awk.html"&gt;AWK Tutorial&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;For small structured text files, 
    it is suggested that you use the &lt;a href="http://harelba.github.io/q/"&gt;q&lt;/a&gt;
    command to manipulate it.&lt;/p&gt;
&lt;p&gt;For complicated logic, 
it is suggested that you use a scripting language (e.g., Python) instead. 
I personally discourage using of &lt;code&gt;awk&lt;/code&gt; 
unless you have a large file (that q cannot …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;a href="http://www.grymoire.com/Unix/Awk.html"&gt;AWK Tutorial&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;For small structured text files, 
    it is suggested that you use the &lt;a href="http://harelba.github.io/q/"&gt;q&lt;/a&gt;
    command to manipulate it.&lt;/p&gt;
&lt;p&gt;For complicated logic, 
it is suggested that you use a scripting language (e.g., Python) instead. 
I personally discourage using of &lt;code&gt;awk&lt;/code&gt; 
unless you have a large file (that q cannot handle) 
and the operations you want do are simple.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Basic syntax of &lt;code&gt;awk&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;awk&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;BEGIN {start_action} {action} END {stop_action}&amp;#39;&lt;/span&gt; &lt;span class="n"&gt;file_name&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Whether to user single or double quote depends on
    whether you use column variables in the expression.
    This is consistent with shell variable substitution.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;awk&lt;/code&gt; ignorecase when working on files make unnecessary redundant output
    very annoying, not sure why&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;awk&lt;/code&gt; does not recognize escaped characters in CSV formatted. 
    Make sure that the file &lt;code&gt;awk&lt;/code&gt; works on is in simple format.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="field-delimiter"&gt;Field Delimiter&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The delimiter must be quoted. 
    For example, 
    if the field delimiter is tab,
    you must use &lt;code&gt;awk -F'\t'&lt;/code&gt; rather than &lt;code&gt;awk -F\t&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The filed delimiter of AWK supports can be a regular expression.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;awk -F&amp;#39;[/=]&amp;#39; &amp;#39;{print $3 &amp;quot;\t&amp;quot; $5 &amp;quot;\t&amp;quot; $8}&amp;#39; file_name
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="columnfield-filteringmanipulation"&gt;Column/Field Filtering/Manipulation&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Select 1st and 3rd column (seprated by tab)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;awk &amp;#39;{print $1 &amp;quot;\t&amp;quot; $3}&amp;#39; file_name
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Sum of the 5th filed.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;awk&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;BEGIN {s=0} {s=s+$5} END {print s}&amp;#39;&lt;/span&gt; &lt;span class="n"&gt;file_name&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="rows-filteringmanipulation"&gt;Rows Filtering/Manipulation&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Print rows of the file with the first field greater than 3.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;awk&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{ if($1 &amp;gt; 3) print }&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;file_name&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Print Docker image IDs that has no repositories names.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;docker&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;images&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;awk&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{ if ($1 == &amp;quot;&amp;lt;none&amp;gt;&amp;quot;) print $3 }&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Print Docker image IDs whose name contains &lt;code&gt;che&lt;/code&gt; using regular expression match.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;docker&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;images&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;awk&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{if ($1 ~ &amp;quot;che&amp;quot;) print $3}&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Print rows with 2 fileds.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;awk &amp;#39;NF == 2&amp;#39; file_name
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Or more verbosally (and more portable)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;awk &amp;#39;NF == 2 {print} {}&amp;#39; file_name
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Count the number of fields in each line.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;awk &amp;#39;{print NF}&amp;#39; file_name
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/15386632/awk-4th-column-everything-matching-wildcard-before-the&lt;/p&gt;</content><category term="Software"></category><category term="tips"></category><category term="awk"></category><category term="text manipulation"></category></entry><entry><title>Selectively Disable Vimperator on Webpages</title><link href="https://www.legendu.net/en/blog/selectively-disable-vimperator/" rel="alternate"></link><published>2017-03-04T13:28:47-08:00</published><updated>2017-03-04T13:28:47-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-03-04:/en/blog/selectively-disable-vimperator/</id><summary type="html">&lt;p&gt;You can press &lt;code&gt;shift + esc&lt;/code&gt; to disable Vimperator on pages and &lt;code&gt;insert&lt;/code&gt; to enable it again. 
This is not good solution as often times you wan to disable Vimperator on a few pages 
but still have it enabled on other pages. 
You can achieve this by configurating the &lt;code&gt;~/.vimperatorrc&lt;/code&gt; file …&lt;/p&gt;</summary><content type="html">&lt;p&gt;You can press &lt;code&gt;shift + esc&lt;/code&gt; to disable Vimperator on pages and &lt;code&gt;insert&lt;/code&gt; to enable it again. 
This is not good solution as often times you wan to disable Vimperator on a few pages 
but still have it enabled on other pages. 
You can achieve this by configurating the &lt;code&gt;~/.vimperatorrc&lt;/code&gt; file.
Below is an example of disabling Vimperator on Google main, calendar, reader and tasks. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;autocmd LocationChange .*                             js modes.passAllKeys = false
autocmd LocationChange mail\\.google\\.com            js modes.passAllKeys = true
autocmd LocationChange www\\.google\\.com/calendar    js modes.passAllKeys = true
autocmd LocationChange www\\.google\\.com/reader      js modes.passAllKeys = true
autocmd LocationChange mail\\.google\\.com/tasks      js modes.passAllKeys = false
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Instead of using &lt;code&gt;autocmd&lt;/code&gt;, 
you can also use &lt;code&gt;ignorekeys&lt;/code&gt;. 
Below is an exampel of disabling Vimperator on Yahoo and Google mail.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ignorekeys add mail.yahoo.com
ignorekeys add mail.google.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id="reference"&gt;Reference&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/14271624/disable-vimperator-temporarily"&gt;Disable Vimperator Temporarily&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;</content><category term="Software"></category><category term="software"></category><category term="Vimperator"></category><category term="Vim"></category><category term="Firefox"></category><category term="browser"></category></entry><entry><title>Using Bash in Docker</title><link href="https://www.legendu.net/en/blog/Using-Bash-in-Docker/" rel="alternate"></link><published>2016-12-14T13:54:14-08:00</published><updated>2017-01-14T13:54:14-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-12-14:/en/blog/Using-Bash-in-Docker/</id><summary type="html">&lt;p&gt;If the docker container was started using &lt;code&gt;/bin/bash&lt;/code&gt; 
(you can check using &lt;code&gt;docker ps&lt;/code&gt;) command you can access it using &lt;code&gt;attach&lt;/code&gt;. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker&lt;span class="w"&gt; &lt;/span&gt;attach&lt;span class="w"&gt; &lt;/span&gt;container_name_or_id
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;If the docker container was started but not with &lt;code&gt;/bin/bash&lt;/code&gt;,
you have to create a bash instance inside the container using &lt;code&gt;exec&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;exec …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;If the docker container was started using &lt;code&gt;/bin/bash&lt;/code&gt; 
(you can check using &lt;code&gt;docker ps&lt;/code&gt;) command you can access it using &lt;code&gt;attach&lt;/code&gt;. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker&lt;span class="w"&gt; &lt;/span&gt;attach&lt;span class="w"&gt; &lt;/span&gt;container_name_or_id
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;If the docker container was started but not with &lt;code&gt;/bin/bash&lt;/code&gt;,
you have to create a bash instance inside the container using &lt;code&gt;exec&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;exec&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-it&lt;span class="w"&gt; &lt;/span&gt;container_name_or_id&lt;span class="w"&gt; &lt;/span&gt;/bin/bash&lt;span class="w"&gt; &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Notice that &lt;code&gt;attach&lt;/code&gt; does not create a new instance of bash 
but use the already created one in the corresponding docker container.
However, 
both &lt;code&gt;exec&lt;/code&gt; and &lt;code&gt;run&lt;/code&gt; create new bash instances.&lt;/p&gt;
&lt;h2 id="examples"&gt;Examples&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;docker&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;exec&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;it&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;u&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;dclong&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;jupyterlab&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;py&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;jupyter&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;nbconvert&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="nv"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;html&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="nv"&gt;execute&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="nv"&gt;ExecutePreprocessor&lt;/span&gt;.&lt;span class="nb"&gt;timeout&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;600&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;workdir&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;spend&lt;/span&gt;.&lt;span class="nv"&gt;ipynb&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Software"></category><category term="software"></category><category term="docker"></category><category term="bash"></category><category term="shell"></category></entry><entry><title>Start RStudio Server After Upgrading</title><link href="https://www.legendu.net/en/blog/start-rstudio-server-after-upgrading/" rel="alternate"></link><published>2016-12-10T02:09:11-08:00</published><updated>2016-12-10T02:09:11-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-12-10:/en/blog/start-rstudio-server-after-upgrading/</id><summary type="html">&lt;p&gt;It is quite often that the RStudio server cannot be start after upgrading. 
This is due to running R session in the background. 
A simple solution is to just restart the host machine. 
However, it is very risky to start servers (especially remote shared ones).
An alternative way is to …&lt;/p&gt;</summary><content type="html">&lt;p&gt;It is quite often that the RStudio server cannot be start after upgrading. 
This is due to running R session in the background. 
A simple solution is to just restart the host machine. 
However, it is very risky to start servers (especially remote shared ones).
An alternative way is to find the R session in the background,
kill it and then start the RStudio server.
The following instruction assumes that 
the port 8787 (default) is used by RStudio server.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Find processes that listen to the port 8787.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo fuser 8787/tcp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Kill all processes that listen to the port 8787. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo fuser -k 8787/tcp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Or you can also use the command &lt;code&gt;kill&lt;/code&gt; to terminate processes. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Start RStudio server.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo rstudio-server start
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ol&gt;</content><category term="Software"></category><category term="software"></category><category term="IDE"></category><category term="RStudio"></category></entry><entry><title>Cygwin Portable</title><link href="https://www.legendu.net/en/blog/cygwin-portable/" rel="alternate"></link><published>2016-08-16T00:06:34-07:00</published><updated>2016-08-16T00:06:34-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-08-16:/en/blog/cygwin-portable/</id><summary type="html">&lt;p&gt;**
Things on this page are fragmentary and immature notes/thoughts of the author. 
Please read with your own judgement!
**&lt;/p&gt;
&lt;h2 id="cygwin-portable"&gt;Cygwin Portable&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The portable versions has some problems&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Vim, edit mode, backspace doesn't work sometimes (identation related)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cygwin portable scroll doesn't work after Vim is opened and then closed. 
but if …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;**
Things on this page are fragmentary and immature notes/thoughts of the author. 
Please read with your own judgement!
**&lt;/p&gt;
&lt;h2 id="cygwin-portable"&gt;Cygwin Portable&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The portable versions has some problems&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Vim, edit mode, backspace doesn't work sometimes (identation related)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cygwin portable scroll doesn't work after Vim is opened and then closed. 
but if alternative/lock, still can see previous results ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;shutdown is windows exe, check it on your windows, Cygwin protable ...&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="Software"></category><category term="Linux"></category><category term="Windows"></category><category term="virtualization"></category><category term="software"></category><category term="Cygwin"></category><category term="portable"></category></entry><entry><title>Scientific References</title><link href="https://www.legendu.net/en/blog/scientfic-reference/" rel="alternate"></link><published>2012-11-13T00:05:06-08:00</published><updated>2016-07-13T00:05:06-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2012-11-13:/en/blog/scientfic-reference/</id><summary type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;JabRef&lt;/code&gt; is an open-source cross-plotform software for managing scientific references.
&lt;code&gt;Mendeley&lt;/code&gt; is a good cost-free cross-platform software for managing scientific references.
It introduces the concept of social research.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you use bibtex in your LaTeX code, 
you have to compile your code using &lt;code&gt;pdflatex/latex&lt;/code&gt;, &lt;code&gt;bibtex&lt;/code&gt;, &lt;code&gt;pdflatex/latex&lt;/code&gt; and &lt;code&gt;pdflatex …&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;JabRef&lt;/code&gt; is an open-source cross-plotform software for managing scientific references.
&lt;code&gt;Mendeley&lt;/code&gt; is a good cost-free cross-platform software for managing scientific references.
It introduces the concept of social research.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you use bibtex in your LaTeX code, 
you have to compile your code using &lt;code&gt;pdflatex/latex&lt;/code&gt;, &lt;code&gt;bibtex&lt;/code&gt;, &lt;code&gt;pdflatex/latex&lt;/code&gt; and &lt;code&gt;pdflatex/latex&lt;/code&gt; in sequence.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;natbib&lt;/code&gt; is a LaTeX package for citing references, and it is compatible with bibtex.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you use author and date style references and there are duplicate
authors and years, &lt;code&gt;natbib&lt;/code&gt; print out the whole list of names and years
by default instead of using abbreviation for names. To avoid this
problem, you can add letters to the end of years. (not sure about this ...)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;\eqref&lt;/code&gt; command is convenient way to reference equations in LaTeX.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="Software"></category><category term="LaTeX"></category><category term="reference"></category><category term="research"></category><category term="Bibtex"></category><category term="software"></category></entry><entry><title>Convert LaTeX to Word</title><link href="https://www.legendu.net/en/blog/convert-latex-to-word/" rel="alternate"></link><published>2012-11-13T00:02:08-08:00</published><updated>2016-07-13T00:02:08-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2012-11-13:/en/blog/convert-latex-to-word/</id><summary type="html">&lt;p&gt;&lt;code&gt;pandoc&lt;/code&gt; is a general purpose tool for converting between different type of documents, 
however, 
it is not good at converting LaTeX code to word.
&lt;code&gt;tex4ht&lt;/code&gt; is a better tool for converting LaTeX code to word. 
The following are instructions to use &lt;code&gt;tex4ht&lt;/code&gt; to convert LaTeX to word.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Compile your LaTeX …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;code&gt;pandoc&lt;/code&gt; is a general purpose tool for converting between different type of documents, 
however, 
it is not good at converting LaTeX code to word.
&lt;code&gt;tex4ht&lt;/code&gt; is a better tool for converting LaTeX code to word. 
The following are instructions to use &lt;code&gt;tex4ht&lt;/code&gt; to convert LaTeX to word.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Compile your LaTeX code. 
Make sure that there are no error messages. 
Do not remove the temporary files produced when compiling your LaTeX code, 
as they are required by the &lt;code&gt;tex4ht&lt;/code&gt; command. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Convert your LaTeX code to html document using the following command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;mk4ht mzlatex you_latex_doc.tex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Open the html document using office tools (Microsoft Word, LibreOffice Writer, AbiWord, etc).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Save a copy of the html document to the right format you want. &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="Software"></category><category term="html"></category><category term="LaTeX"></category><category term="Office"></category><category term="software"></category><category term="Word"></category></entry><entry><title>Interact with System Clipboard in Vim</title><link href="https://www.legendu.net/en/blog/interact-between-different-vim-sessions/" rel="alternate"></link><published>2012-11-26T10:35:12-08:00</published><updated>2014-12-26T10:35:12-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2012-11-26:/en/blog/interact-between-different-vim-sessions/</id><summary type="html">&lt;p&gt;The following are ways for a Vim session 
to interact (copy/cut, paste) with other Vim sessions or other applications.&lt;/p&gt;
&lt;h2 id="use-x-windows-clipboard-directly"&gt;Use X Windows Clipboard Directly&lt;/h2&gt;
&lt;p&gt;If you prefer to use X windows clipboard as the default buffer for Vim,
put &lt;code&gt;set clipboard=unnamedplus&lt;/code&gt; in your &lt;code&gt;.vimrc&lt;/code&gt; file.
This obviously makes …&lt;/p&gt;</summary><content type="html">&lt;p&gt;The following are ways for a Vim session 
to interact (copy/cut, paste) with other Vim sessions or other applications.&lt;/p&gt;
&lt;h2 id="use-x-windows-clipboard-directly"&gt;Use X Windows Clipboard Directly&lt;/h2&gt;
&lt;p&gt;If you prefer to use X windows clipboard as the default buffer for Vim,
put &lt;code&gt;set clipboard=unnamedplus&lt;/code&gt; in your &lt;code&gt;.vimrc&lt;/code&gt; file.
This obviously makes your Vim talk to the system clipboard (all the time).
However, 
this makes different Vim sessions interact with each other 
which might or might not what you want.
Generally speaking,
this is not recommended if you want to interact with system clipboard within Vim.&lt;/p&gt;
&lt;h2 id="use-vim-buffers-recommended"&gt;Use Vim Buffers (recommended)&lt;/h2&gt;
&lt;p&gt;You need to install a GUI version of Vim (e.g., &lt;code&gt;vim-gnome&lt;/code&gt;) 
before you use this way to interact with the system clipboard.
You can simply use the &lt;code&gt;+&lt;/code&gt; (sometimes &lt;code&gt;*&lt;/code&gt;) register. 
For example, 
you can use &lt;code&gt;"+yy&lt;/code&gt; to copy the current line in Vim to the system clipboard
and &lt;code&gt;"+p&lt;/code&gt; to paste from from the system clipboard to Vim.&lt;/p&gt;
&lt;h2 id="the-shift-key"&gt;The SHIFT Key&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Hold &lt;code&gt;SHIFT&lt;/code&gt; while you select text in Vim using mouse. 
You can then right click on the selection and choose &lt;code&gt;Copy&lt;/code&gt; to copy it to the system clipboard, 
or you can use &lt;code&gt;CTRL + SHFIT + C&lt;/code&gt; to copy the selection to the system clipboard.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can right click and choose &lt;code&gt;paste&lt;/code&gt; in Vim to pate from the system clipboard into Vim, 
or you can use &lt;code&gt;CTRL + SHIFT + V&lt;/code&gt; to paste from the system clipboard into Vim.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Another way to copy from Vim to a text editor is to first select text in Vim with &lt;code&gt;SHFIT&lt;/code&gt; pressed, 
and then middle-click in the text editor.
Notice that &lt;code&gt;CTRL + V&lt;/code&gt; won't work, 
because you did not use &lt;code&gt;CTRL + SHFIT + C&lt;/code&gt; (or &lt;code&gt;right click -&amp;gt; paste&lt;/code&gt;) to copy the selection to the system clipboard.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="use-a-temporary-bufferfile"&gt;Use a Temporary Buffer/File&lt;/h2&gt;
&lt;p&gt;It's very convenient to copy/cut and paste text between different buffers/files of a same Vim session. 
So you can use temporary buffer/file to interact with other Vim sessions or other applications.&lt;/p&gt;
&lt;h2 id="see-also"&gt;See Also&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://vim.wikia.com/wiki/Accessing_the_system_clipboard"&gt;http://vim.wikia.com/wiki/Accessing_the_system_clipboard&lt;/a&gt;&lt;/p&gt;</content><category term="Software"></category><category term="Vim"></category><category term="software"></category><category term="Linux"></category><category term="clipboard"></category><category term="copy"></category><category term="paste"></category></entry><entry><title>Fix Microphone Problem of Skype in Debian</title><link href="https://www.legendu.net/en/blog/fix-skype-microphone-problem-in-debian/" rel="alternate"></link><published>2013-08-21T00:00:00-07:00</published><updated>2013-08-21T00:00:00-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2013-08-21:/en/blog/fix-skype-microphone-problem-in-debian/</id><summary type="html">&lt;p&gt;Install Pulseaudio if you only have ALSA. 
ALSA alone does NOT work with skype whatever people 
on the #Debian channel might think and tell you.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo apt-get install pulseaudio
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Install pulseaudio volume control&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo apt-get install pavucontrol
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Run Skype.&lt;/p&gt;
&lt;p&gt;Go to the Sound devices sections. 
Click on the Open PulseAudio …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Install Pulseaudio if you only have ALSA. 
ALSA alone does NOT work with skype whatever people 
on the #Debian channel might think and tell you.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo apt-get install pulseaudio
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Install pulseaudio volume control&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo apt-get install pavucontrol
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Run Skype.&lt;/p&gt;
&lt;p&gt;Go to the Sound devices sections. 
Click on the Open PulseAudio Volume Control button. 
pavucontrol will open.&lt;/p&gt;
&lt;p&gt;In every tab maximize ALL the volume sliders.
Go to the configuration tab. Mine has two sections. 
One is called RV710/730. 
Turn this off in the dropdown menu below it.
The other one is called "Internal Audio". 
Choose "Analog Stereo Duplex" in the dropdown menu.
When you go back to the "Input Devices" tab now, 
you will see that there is an setting for "Internal Audio Analog Stereo". 
Crank this to 100%.
In the "Output Devices" tab, 
choose the "Analog Output" port from the dropdown menu. 
Crank the front left as well as front right channel to the max 100%.&lt;/p&gt;</content><category term="Software"></category><category term="audio"></category><category term="Software"></category><category term="Linux"></category></entry><entry><title>Make Eclipse Support C++11</title><link href="https://www.legendu.net/en/blog/eclipse-cpp11/" rel="alternate"></link><published>2012-08-20T00:00:00-07:00</published><updated>2012-08-20T00:00:00-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2012-08-20:/en/blog/eclipse-cpp11/</id><summary type="html">&lt;p&gt;&lt;img src="http://dclong.github.io/media/eclipse/cdt.png" height="200" width="240" align="right"/&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Make a new C++ project&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Default options for everything&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Once created, right-click the project and go to "Properties"&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;C/C++ Build -&amp;gt; Settings -&amp;gt; Tool Settings -&amp;gt; GCC C++ Compiler -&amp;gt; Miscellaneous -&amp;gt; Other Flags. 
Put -std=c++0x at the end. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;C++ General -&amp;gt; Paths and Symbols -&amp;gt; Symbols -&amp;gt; GNU C++. 
Click "Add..." and paste &lt;code&gt;__GXX_EXPERIMENTAL_CXX0X__ …&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;img src="http://dclong.github.io/media/eclipse/cdt.png" height="200" width="240" align="right"/&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Make a new C++ project&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Default options for everything&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Once created, right-click the project and go to "Properties"&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;C/C++ Build -&amp;gt; Settings -&amp;gt; Tool Settings -&amp;gt; GCC C++ Compiler -&amp;gt; Miscellaneous -&amp;gt; Other Flags. 
Put -std=c++0x at the end. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;C++ General -&amp;gt; Paths and Symbols -&amp;gt; Symbols -&amp;gt; GNU C++. 
Click "Add..." and paste &lt;code&gt;__GXX_EXPERIMENTAL_CXX0X__&lt;/code&gt; (ensure to append and prepend two underscores) 
into "Name" and leave "Value" blank.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Hit Apply, do whatever it asks you to do, then hit OK.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="Software"></category><category term="C/C++"></category><category term="software"></category><category term="eclipse"></category></entry></feed>