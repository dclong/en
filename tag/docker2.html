<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Ben Chuanlong Du's Blog - Docker</title>
  <meta name="author" content="Ben Chuanlong Du">

  <link href="https://www.legendu.net/en/atom.xml" type="application/atom+xml" rel="alternate"
        title="Ben Chuanlong Du's Blog Atom Feed" />


  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://www.legendu.net/en/favicon.png" rel="icon">
  <link href="https://www.legendu.net/en/theme/css/main_2.css" media="screen, projection"
        rel="stylesheet" type="text/css">
  <script src="https://www.legendu.net/en/theme/js/modernizr-2.0.js"></script>
  <script src="https://www.legendu.net/en/theme/js/ender.js"></script>
  <script src="https://www.legendu.net/en/theme/js/octopress.js" type="text/javascript"></script>

  <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <script data-ad-client="ca-pub-3836424032203369" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="https://www.legendu.net/en/">Ben Chuanlong Du's Blog</a></h1>
    <h2>And let it direct your passion with reason.</h2>
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="https://www.legendu.net/en/atom.xml" rel="subscribe-rss">RSS</a></li>
</ul>

<form name="search" action="https://www.bing.com/search" method="get" onSubmit="return build_query()">
  <fieldset role="search">
      <!--
    <input type="hidden" name="q" value="site:https://www.legendu.net/en" />
        -->
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>

<script type = "text/javascript">
    function build_query() {
        var query = document.forms["search"]["q"].value;
        var prefix = "site:https://www.legendu.net/en "
        if (!query.startsWith(prefix)) {
            query = prefix + query;
            document.forms["search"]["q"].value = query;
        }
        return true;
    }
</script>

<ul class="main-navigation">
    <li><a href="https://www.legendu.net">Home</a></li>
    <li><a href="https://www.legendu.net/en">Blog</a></li>
    <li><a href="https://www.legendu.net/en/archives.html">Archives</a></li>
    <li><a href="https://www.legendu.net/pages/about">About</a></li>
</ul></nav>
  <div id="main">
    <div id="content">
<div class="blog-index">
  		<article>
<header>
      <h1 class="entry-title">
        <a href="https://www.legendu.net/en/blog/docker-for-nvidia-gpu/">Docker for Nvidia GPU</a>
      </h1>
      <p class="meta"><time datetime="2020-01-18T01:02:42-08:00" pubdate>Jan 18, 2020</time></p>
</header>

  <div class="entry-content"><h2 id="instruction-on-using-nvidia-gpu-cuda-for-computing-in-docker">Instruction on Using Nvidia GPU (CUDA) for Computing in Docker</h2>
<ol>
<li>
<p>Install Nvidia <code>cuda-drivers</code> (or equivalent) on your Linux machine
    following instructions at 
    <a href="https://developer.nvidia.com/cuda-downloads?target_os=Linux">CUDA Downloads</a>.
    Notice that instead of installing <code>cuda</code> (using <code>sudo apt-get install cuda</code>),
    it is suggested that you install <code>cuda-drivers</code> only (using <code>sudo apt-get install cuda-drivers</code>).
    This is …</p></li></ol></div>
  <footer>
    <a rel="full-article" href="https://www.legendu.net/en/blog/docker-for-nvidia-gpu/">Read On &crarr;</a>
  </footer>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="https://www.legendu.net/en/blog/build-docker-images-using-kaniko/">Build Docker Images Using Kaniko</a>
      </h1>
      <p class="meta"><time datetime="2021-07-20T17:09:59-07:00" pubdate>Jul 20, 2021</time></p>
</header>

  <div class="entry-content"><ol>
<li>
<p>Kaniko works differently from Docker. 
    It runs inside a Docker container and detect and extract new layers to build Docker images. 
    Since Kaniko manipulates the filesystem (layers) inside the Docker container,
    it can have unexpected side effect if not used carefully. 
    For this reason,
    the developer team suggests users to …</p></li></ol></div>
  <footer>
    <a rel="full-article" href="https://www.legendu.net/en/blog/build-docker-images-using-kaniko/">Read On &crarr;</a>
  </footer>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="https://www.legendu.net/en/blog/init-for-docker-containers/">Init for Docker Containers</a>
      </h1>
      <p class="meta"><time datetime="2020-03-05T11:08:32-08:00" pubdate>Mar 05, 2020</time></p>
</header>

  <div class="entry-content"><p>**
Things on this page are fragmentary and immature notes/thoughts of the author.
Please read with your own judgement!
**</p>
<h2 id="built-in-support">Built-in Support</h2>
<p>Docker has built-in support for init process (which is based on tini) now.
In short, 
you just have to specify the option <code>--init</code>
when you start a container using …</p></div>
  <footer>
    <a rel="full-article" href="https://www.legendu.net/en/blog/init-for-docker-containers/">Read On &crarr;</a>
  </footer>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="https://www.legendu.net/en/blog/run-docker-containers-inside-a-docker-container/">Run Docker Containers Inside a Docker Container</a>
      </h1>
      <p class="meta"><time datetime="2021-09-13T10:55:29-07:00" pubdate>Sep 13, 2021</time></p>
</header>

  <div class="entry-content"><p>You can run Docker containers inside a Docker container. 
To allow this,
you have to pass the docker socks into the container 
using the option <code>-v /var/run/docker.sock:/var/run/docker.sock</code>.
For more discussions,
please refer to
<a href="https://devopscube.com/run-docker-in-docker/#:~:text=To%20run%20docker%20inside%20docker,sock%20as%20a%20volume.&amp;text=Just%20a%20word%20of%20caution,privileges%20over%20your%20docker%20daemon">How To Run Docker in Docker Container [3 Easy Methods …</a></p></div>
  <footer>
    <a rel="full-article" href="https://www.legendu.net/en/blog/run-docker-containers-inside-a-docker-container/">Read On &crarr;</a>
  </footer>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="https://www.legendu.net/en/blog/packaging-Python-Dependencies-for-PySpark-Using-python-build-standalone/">Packaging Python Dependencies for PySpark Using python-build-standalone</a>
      </h1>
      <p class="meta"><time datetime="2021-04-26T09:48:16-07:00" pubdate>Apr 26, 2021</time></p>
</header>

  <div class="entry-content"><p>You can build a portable Python environment 
following steps below.</p>
<ol>
<li>
<p>Install <a href="https://github.com/indygreg/python-build-standalone">python-build-standalone</a>.</p>
</li>
<li>
<p>Install Python packages using pip of the installed python-build-standalone distribution.</p>
</li>
<li>
<p>Pack the whole python-build-standalone directory into a compressed file, e.g., <code>env.tar.gz</code>.</p>
</li>
</ol>
<p>The GitHub repo
<a href="https://github.com/dclong/python-portable">dclong/python-portable</a>
has good examples of building portable Python environments 
leveraging …</p></div>
  <footer>
    <a rel="full-article" href="https://www.legendu.net/en/blog/packaging-Python-Dependencies-for-PySpark-Using-python-build-standalone/">Read On &crarr;</a>
  </footer>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="https://www.legendu.net/en/blog/docker-installation/">Install Docker</a>
      </h1>
      <p class="meta"><time datetime="2017-06-09T13:13:36-07:00" pubdate>Jun 09, 2017</time></p>
</header>

  <div class="entry-content"><h2 id="install-docker-on-debian-series-of-linux-distributions">Install Docker on Debian Series of Linux Distributions</h2>
<p>You can install Docker on Debian series of Linux distributions
(Debian, Ubuntu, Linux Mint, etc.) 
using the following commands.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt-get<span class="w"> </span>update
sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>docker.io
</code></pre></div>

<p>Configure your docker following instructions in the section 
<a href="http://www.legendu.net/en/blog/docker-installation/#configure-docker">Configure Docker</a>
.</p>
<h2 id="install-the-latest-version-of-docker-on-debian-series-of-linux-distributions">Install the Latest Version of …</h2></div>
  <footer>
    <a rel="full-article" href="https://www.legendu.net/en/blog/docker-installation/">Read On &crarr;</a>
  </footer>
  		</article>
<div class="pagination">
    <a class="prev" href="https://www.legendu.net/en/tag/docker3.html">&larr; Older</a>

      <a class="next" href="https://www.legendu.net/en/tag/docker.html">Newer &rarr;</a>
  <br />
</div></div>
<aside class="sidebar">
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      <li class="post">
          <a href="https://www.legendu.net/en/blog/my-docker-images/">My Docker Images</a>
      </li>
      <li class="post">
          <a href="https://www.legendu.net/en/blog/docker-image-and-container-management/">Manage Docker Images and Containers</a>
      </li>
      <li class="post">
          <a href="https://www.legendu.net/en/blog/docker-in-WSL2/">Docker in WSL 2</a>
      </li>
      <li class="post">
          <a href="https://www.legendu.net/en/blog/build-docker-images-on-kubernetes/">Build Docker Images on Kubernetes</a>
      </li>
      <li class="post">
          <a href="https://www.legendu.net/en/blog/build-docker-images-using-buildkit-on-kubernetes/">Build Docker Images Using BuildKit on Kubernetes</a>
      </li>
    </ul>
  </section>
  <section>
    <h1>Categories</h1>
    <ul id="recent_posts">
        <li><a href="https://www.legendu.net/en/category/ai.html">AI</a></li>
        <li><a href="https://www.legendu.net/en/category/career.html">Career</a></li>
        <li><a href="https://www.legendu.net/en/category/computer-science.html">Computer Science</a></li>
        <li><a href="https://www.legendu.net/en/category/fun-problems.html">Fun Problems</a></li>
        <li><a href="https://www.legendu.net/en/category/internet.html">Internet</a></li>
        <li><a href="https://www.legendu.net/en/category/os.html">OS</a></li>
        <li><a href="https://www.legendu.net/en/category/research.html">Research</a></li>
        <li><a href="https://www.legendu.net/en/category/software.html">Software</a></li>
    </ul>
  </section>
 

  <section>
  <h1>Tags</h1>
  <ul class="tagcloud">
  </ul>
  </section>



  <section>
    <h1>GitHub Repos</h1>
    <ul id="gh_repos">
      <li class="loading">Status updating...</li>
    </ul>
      <a href="https://github.com/legendu-net">@legendu-net</a> on GitHub
    <script type="text/javascript">
      $.domReady(function(){
          if (!window.jXHR){
              var jxhr = document.createElement('script');
              jxhr.type = 'text/javascript';
              jxhr.src = 'https://www.legendu.net/en/theme/js/jXHR.js';
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(jxhr, s);
          }

          github.showRepos({
              user: 'legendu-net',
              count: 5,
              skip_forks: true,
              target: '#gh_repos'
          });
      });
    </script>
    <script src="https://www.legendu.net/en/theme/js/github.js" type="text/javascript"> </script>
  </section>

    <section>
        <h1>Social</h2>
        <ul>
            <li><a href="https://www.linkedin.com/in/ben-chuanlong-du-1239b221/" target="_blank">LinkedIn</a></li>
            <li><a href="https://hub.docker.com/u/dclong" target="_blank">Docker Hub</a></li>
            <li><a href="https://stackoverflow.com/users/7808204/benjamin-du?tab=profile" target="_blank">Stack Overflow</a></li>
            <li><a href="https://twitter.com/longendu" target="_blank">Twitter</a></li>
        <!--
            <li><a href="https://www.legendu.net/en/" type="application/rss+xml" rel="alternate">RSS</a></li>
            -->
        </ul>
    </section>
</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Ben Chuanlong Du -
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3STS9BVPF6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3STS9BVPF6');
</script>
	<script type="text/javascript">
	  var disqus_shortname = 'dclong';
	  (function() {
	    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
	    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	   })();
	</script>
</body>
</html>